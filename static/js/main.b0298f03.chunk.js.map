{"version":3,"sources":["serviceWorkerRegistration.ts","reportWebVitals.ts","login/auth.tsx","home/index.tsx","calculator/model/expression.tsx","calculator/model/controller.tsx","calculator/assets/icons/delete.svg","calculator/assets/icons/backspace.svg","calculator/components/MathKeyboard.tsx","calculator/components/MathBox.tsx","calculator/components/Plot.tsx","calculator/components/ResultBox.tsx","calculator/components/History.tsx","calculator/index.tsx","airbox/model/box_model.tsx","airbox/components/BoxCard.tsx","airbox/components/BoxBoard.tsx","airbox/components/UpdatingIndicator.tsx","airbox/components/AddBoxCard.tsx","airbox/index.tsx","login/index.tsx","App.tsx","index.tsx"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","authenticate","key","AES","decrypt","toString","Utf8Encode","haveKey","localStorage","getItem","length","cipher","Error","Home","Mode","require","Expression","db","parser","AlgebraLatex","initHistory","a","openDB","upgrade","createObjectStore","keyPath","getAll","data","runInAction","history","makeObservable","this","parseLatex","latex","toNerdamer","expression","evaluate","text","result","toTeX","calc2dis","forEach","v","k","replace","search","Defint","Limit","Matrix","Var","Eval","solveFor","nerdamer","integrate","diff","observable","action","rawLatex","item","expStr","date","Date","now","put","push","delete","index","findIndex","splice","computed","Map","RegExp","ExpContext","React","createContext","useExpStore","useContext","Controller","mfController","setController","mf","focus","add","insert","format","backspace","executeCommand","clear","move","direction","ControllerContext","MathKeyboard","keyboardStyle","css","className","ExtraKeyboard","map","MathKey","children","onclick","BasicKeyboard","row1","row2","command","row3","expStore","src","deleteIcon","alt","style","width","backIcon","row4","save","prop","btnStyle","spanStyle","onClick","MathBox","exp","virtualKeyboardMode","fontsDirectory","onContentDidChange","update","getValue","ref","mfe","fontSize","marginBlock","border","backgroundColor","gridColumn","outline","Plot","rootEl","useRef","useEffect","functionPlot","target","current","height","grid","title","fn","e","ResultBox","observer","mode","EvalResultBox","SymResultBox","evalResult","eval","textResult","undefined","getRawLaTeX","content","useMathView","InfoBox","Component","color","padding","paddingLeft","fontFamily","userSelect","ExprBox","value","readOnly","display","marginLeft","TextBox","HistoryBox","listStyleType","paddingInline","getHistory","ItemContainer","justifyContent","marginRight","deleteHistory","Calculator","Provider","History","position","bottom","GridContainer","props","margin","flex","gridTemplateColumns","AirBoxModel","liveQuery","subscribe","query","LC","Query","find","boxes","items","db2model","reverse","on","box","remove","get","status","unSubscribe","unsubscribe","create","airBoxDB","Object","extend","set","boxType","refId","refUrl","File","createWithoutData","destroy","id","applicationId","applicationKey","init","appId","process","appKey","record","models","unshift","model","type","file","name","savedFile","url","airBoxModel","AirBoxModelContext","UrlBox","urls","Array","from","matchAll","elements","link","slice","textContent","href","rel","laterUrl","ImageBox","BoxCard","paddingBlock","borderRadius","overflowWrap","split","getBoxDom","marginTop","borderTop","paddingTop","clipboard","writeText","BoxBoard","flexDirection","maxWidth","UpdatingIndicator","getStatue","AddBoxCard","useState","fileInput","createRef","boxSizing","onSubmit","event","preventDefault","createText","alert","placeholder","required","onChange","files","createFile","AirBoxApp","Login","useHistory","useLocation","goBack","setItem","setKey","autoComplete","App","Header","fallback","exact","path","render","defaultComponent","AirBox","linkStyle","to","RedirectRoute","pathname","ReactDOM","document","getElementById","URL","origin","addEventListener","fetch","headers","response","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.b0298f03.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import AES from 'crypto-js/aes';\nimport Utf8Encode from 'crypto-js/enc-utf8';\n\nexport const authenticate = (key: string) => {\n  const cipher = 'U2FsdGVkX19LkQydklw7F7RbgOdCBwXD1cfvQjLgfTYe+go46H+MPCsBFVBV1Q2w';\n  const text = AES.decrypt(cipher, key).toString(Utf8Encode)\n  return text === 'Hello, React&App'\n};\n\nexport const haveKey = () => {\n  const key = localStorage.getItem('private key')\n  if (key && key.length !== 0 && authenticate(key)) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport const setKey = (key: string) => {\n  if (authenticate(key)) {\n    localStorage.setItem('private key', key);\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport const decrypt = (cipher: string | undefined) => {\n  const key = localStorage.getItem('private key');\n  if (!key || key.length === 0 || !cipher || cipher.length === 0) {\n    throw Error(`decrypt ${cipher} failed`);\n  } else {\n    return AES.decrypt(cipher, key).toString(Utf8Encode)\n  }\n}\n","import React from 'react'\n\nexport default function Home() {\n  return <p>Home</p>\n}","import { action, computed, makeObservable, observable, runInAction } from \"mobx\";\nimport React, { useContext } from \"react\";\nimport nerdamer from 'nerdamer';\nimport AlgebraLatex from 'algebra-latex';\nimport { openDB, DBSchema, IDBPDatabase } from 'idb';\nrequire('nerdamer/all');\n\nexport enum Mode {\n  Eval,\n  Var,\n  Defint,\n  Limit,\n  Matrix,\n};\n\nexport interface ExprHistory {\n  expStr: string,\n  date: number,\n}\n\ninterface ExprDB extends DBSchema {\n  expressions: {\n    value: ExprHistory;\n    key: number;\n  };\n}\n\nexport default class Expression {\n  @observable private latex: string = '';\n\n  @observable private history: ExprHistory[] = [];\n\n  private db: IDBPDatabase<ExprDB> | undefined;\n\n  private parser = new AlgebraLatex();\n\n  constructor() {\n    makeObservable(this);\n  }\n\n  initHistory = async () => {\n    const db = await openDB<ExprDB>('expr-db', 1, {\n      upgrade(db) {\n        db.createObjectStore('expressions', { keyPath: 'date' });\n      },\n    });\n    this.db = db;\n    const data = await db.getAll(\"expressions\");\n    runInAction(() => { this.history = data });\n  }\n\n  @action\n  update = (rawLatex: string) => {\n    this.latex = rawLatex;\n  }\n\n  @action\n  save = () => {\n    if (this.db && this.latex.length > 0) {\n      const item = { expStr: this.latex, date: Date.now() };\n      this.db.put('expressions', item);\n      this.history.push(item);\n    } else {\n      console.log('Invalid save')\n    }\n  }\n\n  @action\n  deleteHistory = (item: ExprHistory) => {\n    this.db?.delete('expressions', item.date);\n    const index = this.history.findIndex((history) => history.date === item.date);\n    if (index > -1) {\n      this.history.splice(index, 1);\n    }\n  }\n\n  @computed get expression() {\n    try {\n      return this.parser.parseLatex(this.latex).toNerdamer() as nerdamer.Expression;\n    } catch (error) {\n      return undefined;\n    }\n  }\n\n  @computed get eval() {\n    try {\n      return this.expression!.evaluate().text();\n    } catch (error) {\n      return undefined;\n    }\n  }\n\n  @computed get text() {\n    try {\n      // TODO: Implement only here, find a better way to implement to all method\n      let result = this.expression?.toTeX();\n      calc2dis.forEach((v, k) => result = result?.replace(k, v));\n      return result;\n    } catch (error) {\n      return undefined;\n    }\n  }\n\n  @computed get mode(): Mode {\n    try {\n      if (this.latex.search('int') >= 0) {\n        return Mode.Defint;\n      } else if (this.latex.search('limit') >= 0) {\n        return Mode.Limit;\n      } else if (this.latex.search('matrix') >= 0) {\n        return Mode.Matrix;\n      } else if (this.latex.search('x') >= 0) {\n        return Mode.Var;\n      } else {\n        return Mode.Eval;\n      }\n    } catch (error) {\n      return Mode.Eval;\n    }\n  }\n\n  @computed get solve() {\n    try {\n      return this.expression!.solveFor('x').toTeX();\n    } catch (error) {\n      return undefined;\n    }\n  }\n\n  @computed get integrate() {\n    try {\n      return nerdamer.integrate(this.expression!, 'x').toTeX();\n    } catch (error) {\n      return undefined;\n    }\n  }\n\n  @computed get diff() {\n    try {\n      return nerdamer.diff(this.expression!, 'x').toTeX();\n    } catch (error) {\n      return undefined;\n    }\n  }\n\n  @computed get getRawLaTeX() {\n    return this.latex;\n  }\n\n  @computed get getHistory() {\n    return this.history\n  }\n\n}\n\nconst calc2dis = new Map<RegExp, string>([\n  [RegExp('\\\\\\\\cdot', 'g'), '\\\\times'],\n]);\n\nexport const ExpContext = React.createContext<Expression>(new Expression());\n\nexport const useExpStore = () => {\n  const store = useContext(ExpContext);\n  return store;\n}","import { Mathfield } from 'mathlive/dist/public/mathfield'\nimport React from 'react';\n\nexport default class Controller {\n  private mfController!: Mathfield;\n\n  setController = (mf: Mathfield) => {\n    this.mfController = mf;\n    this.focus();\n  }\n\n  add = (expression: string) => this.mfController.insert(expression, { focus: true, format: \"latex\" });\n\n  backspace = () => {\n    this.mfController.executeCommand(\"deleteBackward\");\n    this.focus();\n  }\n\n  clear = () => {\n    this.mfController.executeCommand(\"deleteAll\");\n    this.focus();\n  }\n\n  move = (direction: Direction) => {\n    if (direction === \"forward\") {\n      this.mfController.executeCommand(\"moveToNextChar\");\n    } else {\n      this.mfController.executeCommand(\"moveToPreviousChar\");\n    }\n    this.focus();\n  }\n\n  private focus = () => {\n    if (this.mfController && this.mfController.focus) {\n      this.mfController.focus();\n    }\n  }\n}\n\ntype Direction = 'forward' | 'backword';\n\nconst controller = new Controller();\nexport const ControllerContext = React.createContext<Controller>(controller);","export default __webpack_public_path__ + \"static/media/delete.020411b3.svg\";","export default __webpack_public_path__ + \"static/media/backspace.521c7719.svg\";","import React, { MouseEventHandler, useContext } from \"react\";\nimport { ControllerContext } from \"../model/controller\";\nimport deleteIcon from '../assets/icons/delete.svg';\nimport backIcon from '../assets/icons/backspace.svg';\nimport '../assets/fonts/font.css';\nimport { useExpStore } from \"../model/expression\";\nimport { css } from \"@emotion/css\";\n\nexport default function MathKeyboard() {\n\n  const keyboardStyle = css`\n    display: grid;\n    grid-template-columns: repeat(5, 1fr);\n    justify-content: center;\n    gap: 2px;\n    grid-auto-rows: minmax(32px, auto);\n    max-width: 350px;\n    margin: auto;\n    user-select: none;\n  `;\n\n  return (\n    <div className={keyboardStyle}>\n      {ExtraKeyboard().map(\n        (key, index) => (\n          <div key={'extra' + index}>\n            <MathKey\n              children={key.children}\n              onclick={key.onclick}\n              key={index}\n            />\n          </div>\n        )\n      )}\n      {BasicKeyboard().map(\n        (key, index) => (\n          <div key={'basic' + index} >\n            <MathKey\n              children={key.children}\n              onclick={key.onclick}\n              key={index}\n            />\n          </div>\n        )\n      )}\n    </div>\n  );\n}\n\nfunction ExtraKeyboard(): MathKeyProp[] {\n  const controller = useContext(ControllerContext);\n\n  const row1: Array<MathKeyProp> = ['sin', 'cos', 'tan', 'log'].map((v) => ({\n    children: v,\n    onclick: () => {\n      controller.add(`\\\\${v}({#?})`);\n    }\n  }));\n\n  row1.push({\n    children: 'sqrt',\n    onclick: () => {\n      controller.add(\"\\\\sqrt\");\n    }\n  })\n\n  const row2Trig: Array<Record<\"children\" | \"command\", string>> = [\n    {\n      children: 'asin',\n      command: '\\\\arcsin({#?})'\n    },\n    {\n      children: 'cos',\n      command: '\\\\arccos({#?})'\n    },\n    {\n      children: 'tan',\n      command: '\\\\arctan({#?})'\n    },\n    {\n      children: 'e^',\n      command: 'e^{#?}'\n    },\n    {\n      children: '^2',\n      command: '{#?}^2'\n    },\n  ];\n\n  const row2: Array<MathKeyProp> = row2Trig.map((v) => ({\n    children: v.children,\n    onclick: () => controller.add(v.command)\n  }));\n\n  const row3: Array<MathKeyProp> = [{\n    children: 'frac',\n    onclick: () => controller.add('\\\\frac'),\n  }];\n\n  ['(', ')'].map((v) => (\n    row3.push({\n      children: v,\n      onclick: () => {\n        controller.add(v);\n      }\n    })\n  ));\n\n  row3.push({\n    children: '←',\n    onclick: () => {\n      controller.move(\"backword\");\n    }\n  })\n\n  row3.push({\n    children: '→',\n    onclick: () => {\n      controller.move(\"forward\");\n    }\n  })\n  return [...row1, ...row2, ...row3];\n}\n\nfunction BasicKeyboard(): MathKeyProp[] {\n  const controller = useContext(ControllerContext);\n  const expStore = useExpStore();\n\n  const row1: Array<MathKeyProp> = ['7', '8', '9'].map((v) => ({\n    children: v,\n    onclick: () => controller.add(v)\n  }));\n\n  row1.push({\n    children: <img src={deleteIcon} alt=\"del\" style={{ width: 20 }} />,\n    onclick: () => controller.clear()\n  })\n\n  row1.push({\n    children: <img src={backIcon} alt=\"backspace\" style={{ width: 20 }} />,\n    onclick: () => controller.backspace()\n  })\n\n  const row2: Array<MathKeyProp> = ['4', '5', '6', '+', '-'].map((v) => ({\n    children: v,\n    onclick: () => controller.add(v)\n  }));\n\n  const row3: Array<MathKeyProp> = ['1', '2', '3', '*', '/'].map((v) => ({\n    children: v,\n    onclick: () => controller.add(v)\n  }));\n\n  const row4: Array<MathKeyProp> = ['0', '.', 'e'].map((v) => ({\n    children: v,\n    onclick: () => controller.add(v)\n  }));\n\n  row4.push({\n    children: 'pi',\n    onclick: () => controller.add('\\\\pi')\n  })\n\n  row4.push({\n    children: '=',\n    onclick: () => expStore.save()\n  })\n\n  return [...row1, ...row2, ...row3, ...row4];\n}\n\ninterface MathKeyProp {\n  onclick: MouseEventHandler\n  children?: string | JSX.Element\n}\n\nfunction MathKey(prop: MathKeyProp) {\n\n  const btnStyle = css`\n    text-transform: lowercase;\n    cursor: pointer;\n    height: 100%;\n    width: 100%;\n    padding: 2px;\n    background: none;\n    border: 1px solid;\n    border-radius: 5px;\n    transition: all 200ms ease-in-out;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    &:hover {\n      background: lightgrey;\n    };\n    &:focus {\n      transform: scale(0.95);\n      border-width: 2px;\n      padding: 1px;\n    }\n  `;\n\n  const spanStyle = css`\n    font-family:'KaTeX';\n    font-size: 20px;\n  `;\n\n  return (\n    <button\n      onClick={prop.onclick}\n      className={btnStyle}\n    >\n      {typeof prop.children === 'string' ?\n        <span className={spanStyle}> {prop.children} </span> :\n        prop.children}\n    </button>\n  );\n}","import React, { useContext } from \"react\";\nimport { useExpStore } from \"../model/expression\";\nimport { ControllerContext } from '../model/controller';\nimport MathView from \"react-math-view\";\n\nexport default function MathBox() {\n  const exp = useExpStore();\n  const controller = useContext(ControllerContext);\n\n  return (\n    <MathView\n      virtualKeyboardMode='off'\n      fontsDirectory={'../assets/fonts'}\n      onContentDidChange={\n        mf => exp.update(mf.getValue(\"latex-expanded\"))\n      }\n      ref={(mfe) => {\n        if (mfe) {\n          controller.setController(mfe);\n        }\n      }}\n      style={{\n        fontSize: 24,\n        marginBlock: 5,\n        border: '2px dashed black',\n        backgroundColor: 'white',\n        gridColumn: '1/-1',\n        outline: 0,\n      }}\n    />\n  );\n}","import React, { useEffect, useRef } from 'react'\nimport functionPlot from 'function-plot';\n\ninterface PlotProp {\n  expStr: string,\n}\n\nconst Plot = (prop: PlotProp) => {\n  let rootEl = useRef(null);\n\n  useEffect(() => {\n    try {\n      functionPlot({\n        target: rootEl.current ?? \"\",\n        width: 800,\n        height: 300,\n        grid: true,\n        title: prop.expStr,\n        data: [{\n          fn: prop.expStr,\n        }]\n      })\n    } catch (e) { }\n  })\n\n  return (<div ref={rootEl} />)\n}\n\nexport default Plot;","import { observer } from \"mobx-react-lite\";\nimport React, { useContext } from \"react\";\nimport { Mode, useExpStore } from \"../model/expression\";\nimport MathView from 'react-math-view';\nimport { ControllerContext } from \"../model/controller\";\nimport Plot from \"./Plot\";\n\nconst ResultBox = observer(() => {\n  const exp = useExpStore();\n\n  switch (exp.mode) {\n    case Mode.Eval:\n      return (<EvalResultBox />);\n    case Mode.Var:\n      return (<SymResultBox />);\n    default:\n      return (<EvalResultBox />);\n  }\n});\n\nconst EvalResultBox = observer(() => {\n  const exp = useExpStore();\n  const evalResult = exp.eval;\n  const textResult = exp.text;\n\n  if (evalResult === undefined) {\n    if (exp.getRawLaTeX) {\n      return <InfoBox title={'LaTeX'} content={exp.getRawLaTeX} useMathView={false} />;\n    } else {\n      return null\n    }\n  }\n\n  if (evalResult === textResult) {\n    return (\n      <div>\n        <InfoBox title={'LaTeX'} content={exp.getRawLaTeX} useMathView={false} />\n        <InfoBox title={'Eval'} content={`${evalResult}`} useMathView />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <InfoBox title={'LaTeX'} content={exp.getRawLaTeX} useMathView={false} />\n      <InfoBox title={'Eval'} content={`${exp.text}`} useMathView />\n      <InfoBox title={'Calc'} content={`${exp.eval}`} useMathView />\n    </div>\n  );\n});\n\n\nconst SymResultBox = observer(() => {\n  const exp = useExpStore();\n\n  if (exp.integrate === undefined) {\n    return null;\n  }\n\n  return (\n    <div>\n      <InfoBox title={'LaTeX'} content={exp.getRawLaTeX} useMathView={false} />\n      <InfoBox title={'Integrate'} content={`${exp.integrate}`} useMathView />\n      <InfoBox title={'Diff'} content={`${exp.diff}`} useMathView />\n      {exp.eval ? <Plot expStr={exp.eval} /> : null}\n    </div>\n  );\n});\n\ninterface InfoBoxProp {\n  title: string,\n  content: string,\n  useMathView: boolean,\n}\n\nconst InfoBox = (prop: InfoBoxProp) => {\n\n  const Component = prop.useMathView ?\n    <ExprBox content={prop.content} /> :\n    <TextBox content={prop.content} />;\n\n  return (\n    <div style={{ border: '1px solid black' }}>\n      <div style={{ backgroundColor: 'black', color: 'white', padding: 2, paddingLeft: 10, fontFamily: 'KaTeX', userSelect: \"none\" }}>{prop.title}</div>\n      <div style={{ padding: 5, paddingLeft: 10 }}>\n        {Component}\n      </div>\n    </div>\n  );\n}\n\nconst ExprBox = (prop: { content: string }) => {\n  const controller = useContext(ControllerContext);\n  return (\n    <>\n      <MathView\n        value={prop.content}\n        readOnly={true}\n        style={{ outline: 0, display: 'inline-block' }}\n        fontsDirectory={'../assets/fonts'}\n      />\n      <button\n        style={{ marginLeft: '20pt' }}\n        onClick={() => {\n          controller.clear();\n          controller.add(prop.content);\n        }}\n        children={'+'} />\n    </>\n  );\n};\n\nconst TextBox = (prop: { content: string }) => {\n  return (\n    <span style={{ fontFamily: \"KaTeX\" }}>{prop.content}</span>\n  );\n}\n\nexport default ResultBox;","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { ExprHistory, useExpStore } from \"../model/expression\";\n\nconst HistoryBox = observer(() => {\n  const exp = useExpStore();\n  return (\n    <div style={{ border: '1px solid black' }}>\n      <div style={{ backgroundColor: 'black', color: 'white', padding: 5, paddingLeft: 10 }}>History</div>\n      <ul style={{ listStyleType: 'none', paddingInline: 10 }}>\n        {exp.getHistory.map((item, index) => {\n          return (<ItemContainer key={index} item={item} />);\n        })}\n      </ul>\n    </div>\n  );\n});\n\nconst ItemContainer = (prop: { item: ExprHistory }) => {\n\n  const exp = useExpStore();\n\n  const handleClick = () => {\n    exp.deleteHistory(prop.item);\n  }\n\n  return (\n    <li style={{ display: \"flex\", justifyContent: 'space-between' }}>\n      <span style={{ marginRight: 20 }}>{prop.item.expStr}</span>\n      <button onClick={handleClick}>Del</button>\n    </li>\n  )\n}\n\nexport default HistoryBox;","import React, { useEffect } from 'react';\nimport './model/expression';\nimport Expression, { ExpContext } from './model/expression';\nimport Controller, { ControllerContext } from './model/controller';\nimport MathKeyboard from './components/MathKeyboard';\nimport MathBox from './components/MathBox';\nimport ResultBox from './components/ResultBox';\nimport HistoryBox from './components/History';\n\nexport default function Calculator() {\n  const controller = new Controller();\n  const expStore = new Expression();\n\n  useEffect(() => { expStore.initHistory() });\n\n  return (\n    <ControllerContext.Provider value={controller} >\n      <ExpContext.Provider value={expStore}>\n        <GridContainer>\n          <MathBox />\n          <div style={{ gridColumn: '1/9' }}><ResultBox /></div>\n          <div style={{ gridColumn: '9/-1' }}><HistoryBox /></div>\n        </GridContainer>\n        <div style={{ position: 'fixed', bottom: 10, width: '100%' }}>\n          <MathKeyboard />\n        </div>\n      </ExpContext.Provider>\n    </ControllerContext.Provider>\n  );\n}\n\nconst GridContainer = (props: { children: React.ReactNode }) => {\n  return (\n    <div style={{ width: '90%', margin: 'auto', flex: '1 0 auto' }}>\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(12, 1fr)' }}>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import { action, computed, makeObservable, observable } from \"mobx\";\nimport React from \"react\";\nimport LC from 'leanengine';\nimport Box, { BoxWithoutId } from \"./box\";\nimport { decrypt, haveKey } from \"../../login/auth\";\n\nexport type Status = \"loading\" | \"error\" | \"done\";\n\nexport default class AirBoxModel {\n  @observable\n  private models: Array<Box> = [];\n\n  @observable\n  private status: Status = \"loading\";\n\n  private liveQuery: LC.LiveQuery<LC.Queriable> | undefined;\n\n  constructor() {\n    makeObservable(this);\n    if (LC.applicationId === undefined || LC.applicationKey === undefined) {\n      if (haveKey()) {\n        LC.init({\n          appId: decrypt(process.env.REACT_APP_LEAN_ID),\n          appKey: decrypt(process.env.REACT_APP_LEAN_KEY),\n        });\n      }\n    }\n  }\n\n  subscribe = async () => {\n    const query = new LC.Query('AirBox');\n    query.find()\n      .then(boxes => this.replace(\n        boxes.map(items => this.db2model(items)).reverse()\n      ))\n      .then(() => {\n        query.subscribe().then(liveQuery => {\n          this.liveQuery = liveQuery;\n          liveQuery.on('create', item => {\n            if (item !== undefined) {\n              const box = this.db2model(item);\n              this.insert(box);\n            }\n          });\n          liveQuery.on('delete', item => {\n            if (item !== undefined) {\n              this.remove(item.get('objectId') as string);\n            }\n          });\n        });\n      })\n      .catch(action(() => { this.status = \"error\"; }));\n  }\n\n  unSubscribe = () => {\n    this.liveQuery?.unsubscribe();\n  }\n\n  @action\n  private replace = (items: Array<Box>) => {\n    this.models = items;\n    this.status = \"done\";\n  }\n\n  @action\n  private insert = (item: Box) => {\n    this.models.unshift(item);\n    this.status = \"done\";\n  }\n\n  @action\n  private remove = (id: string) => {\n    const index = this.models.findIndex((model) => model.id === id);\n    if (index > -1) {\n      this.models.splice(index, 1);\n    }\n    this.status = \"done\";\n  }\n\n  private db2model(record: LC.Queriable): Box {\n    return {\n      id: record.get('objectId') as string,\n      content: record.get('content') as string,\n      boxType: record.get('boxType') as string,\n      refId: record.get('refId') as string,\n      refUrl: record.get('refUrl') as string,\n    };\n  }\n\n  private create = (box: BoxWithoutId) => {\n    const AirBoxDB = LC.Object.extend('AirBox');\n    const airBoxDB = new AirBoxDB();\n    airBoxDB.set('content', box.content);\n    airBoxDB.set('boxType', box.boxType);\n    airBoxDB.set('refId', box.refId);\n    airBoxDB.set('refUrl', box.refUrl);\n    return airBoxDB.save()\n  }\n\n  @action\n  createText = (text: string, type?: string) => {\n    this.status = \"loading\";\n    return this.create({\n      content: text,\n      boxType: type ?? 'text/plain',\n    })\n  }\n\n  @action\n  createFile = async (box: File) => {\n    this.status = \"loading\";\n    const file = new LC.File(box.name, box, box.type);\n    const savedFile = await file.save();\n\n    return this.create({\n      content: savedFile.name(),\n      boxType: box.type,\n      refId: savedFile.id,\n      refUrl: savedFile.url(),\n    })\n  }\n\n  delete = (box: Box) => {\n    action(() => this.status = \"loading\");\n    if (box.refId) {\n      const file = LC.File.createWithoutData(box.refId);\n      file.destroy();\n    }\n    const airBoxDB = LC.Object.createWithoutData('AirBox', box.id);\n    airBoxDB.destroy();\n  }\n\n  @computed get boxes() {\n    return this.models;\n  }\n\n  @computed get getStatue() {\n    return this.status;\n  }\n\n}\n\nconst airBoxModel = new AirBoxModel();\nexport const AirBoxModelContext = React.createContext<AirBoxModel>(airBoxModel);\n","import React, { useContext } from \"react\";\nimport Box from \"../model/box\";\nimport { AirBoxModelContext } from \"../model/box_model\";\n\ninterface BoxCardProp {\n  box: Box\n}\n\nconst BoxCard = (prop: BoxCardProp) => {\n  const airBoxModel = useContext(AirBoxModelContext);\n\n  const getBoxDom = (box: Box) => {\n    switch (box.boxType.split('/')[0]) {\n      case 'text':\n        return UrlBox(prop.box.content)\n      case 'image':\n        return ImageBox(prop.box)\n      default:\n        return UrlBox(prop.box.refUrl!)\n    }\n  }\n\n  const boxStyle: React.CSSProperties = {\n    flex: '1',\n    paddingBlock: '10px',\n    paddingInline: '20px',\n    border: '2px solid lightgrey',\n    borderRadius: '5px',\n    margin: '5px',\n    overflowWrap: 'break-word',\n  };\n\n  const btnGroupStyle: React.CSSProperties = {\n    marginTop: '5px',\n    borderTop: '2px solid lightgrey',\n    paddingTop: '5px',\n  };\n\n  return (\n    <div style={boxStyle}>\n      {getBoxDom(prop.box)}\n      <div style={btnGroupStyle}>\n        <button onClick={() => { airBoxModel.delete(prop.box) }}>Delete</button>\n        <button onClick={() => { navigator.clipboard.writeText(prop.box.content) }}>Copy</button>\n      </div>\n    </div>\n  );\n}\n\nconst UrlBox = (content: string) => {\n  const urlRegexp = /https?:\\/\\/[-a-zA-Z0-9@:%._~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b[-a-zA-Z0-9()@:%_.~#?&//=]*/g;\n  const urls = Array.from(content.matchAll(urlRegexp));\n\n  if (urls.length === 0) {\n    return <span>{content}</span>\n  }\n\n  const elements: Array<JSX.Element> = [];\n  for (let index = 0; index < urls.length; index++) {\n    // text-url-text-...-url-text\n    const url = urls[index];\n    const link = content.slice(url.index, url.index! + url[0].length);\n\n    if (index === 0 && url.index! > 0) {\n      elements.push(\n        <span key={'textSpan-begin'}>{content.slice(0, url.index)}</span>\n      );\n    }\n\n    if (index === urls.length - 1) {\n      const textContent = content.slice(url.index! + link.length, content.length);\n      elements.push(\n        <a key={`a-${index}`} href={link} target={'_blank'} rel={'noreferrer'}>{link}</a>,\n        <span key={`textSpan-${index}`}>{textContent}</span>\n      );\n      break;\n    }\n\n    // later str\n    const laterUrl = urls[index + 1];\n    const textContent = content.slice(url.index! + link.length, laterUrl.index);\n    elements.push(\n      <a key={`a-${index}`} href={link} target={'_blank'} rel={'noreferrer'}>{link}</a>,\n      <span key={`textSpan-${index}`}>{textContent}</span>\n    );\n\n  }\n  return elements\n}\n\nconst ImageBox = (box: Box) => {\n  return (\n    <img src={box.refUrl} alt={box.content} height={200} />\n  );\n}\n\nexport default BoxCard","import React, { useContext } from 'react';\nimport { AirBoxModelContext } from '../model/box_model';\nimport { observer } from 'mobx-react-lite';\nimport BoxCard from './BoxCard';\n\nconst BoxBoard = observer(() => {\n  const airBoxModel = useContext(AirBoxModelContext);\n\n  const boxes = airBoxModel.boxes.map(box => (\n    <BoxCard key={box.id} box={box} />\n  ));\n\n  const style: React.CSSProperties = {\n    display: 'flex',\n    flexDirection: 'column',\n    margin: 'auto',\n    marginBlock: '10px',\n    maxWidth: '900px',\n  };\n\n  return (\n    <div style={style}>\n      {boxes}\n      <div style={{ height: '50px' }} />\n    </div>\n  );\n})\n\nexport default BoxBoard","import { observer } from \"mobx-react-lite\";\nimport React, { useContext } from \"react\";\nimport { AirBoxModelContext } from \"../model/box_model\";\n\nconst UpdatingIndicator = observer(() => {\n  const airBoxModel = useContext(AirBoxModelContext);\n  switch (airBoxModel.getStatue) {\n    case \"loading\":\n      return (<p>Updating...</p>);\n    case \"error\":\n      return (<p>Error😥</p>);\n    default:\n      return null;\n  }\n})\n\nexport default UpdatingIndicator;","import React, { useContext, useState } from \"react\";\nimport { AirBoxModelContext } from \"../model/box_model\";\n\nconst AddBoxCard = () => {\n  const airBoxModel = useContext(AirBoxModelContext);\n  const [content, update] = useState('');\n  const fileInput = React.createRef<HTMLInputElement>();\n\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    airBoxModel.createText(content)\n      .catch(() => { alert('Fail to add') });\n    update('');\n  }\n\n  const handleFileSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    if (fileInput.current && fileInput.current.files) {\n      airBoxModel.createFile(fileInput.current.files[0]);\n    }\n  }\n\n  const style: React.CSSProperties = {\n    width: '100%',\n    padding: '5px',\n    boxSizing: 'border-box',\n    backgroundColor: 'grey',\n    position: 'fixed',\n    bottom: '0',\n  }\n\n  return (\n    <div style={style}>\n      <form onSubmit={handleSubmit}>\n        <input\n          type='text'\n          placeholder={'Just type something😎'}\n          required\n          value={content}\n          onChange={(e) => update(e.target.value)}\n        />\n        <input type='submit' />\n      </form>\n      <form onSubmit={handleFileSubmit}>\n        <input\n          type='file'\n          ref={fileInput}\n        />\n        <input type='submit' />\n      </form>\n    </div>\n  );\n}\n\nexport default AddBoxCard","import React, { useEffect } from 'react';\nimport AirBoxModel, { AirBoxModelContext } from './model/box_model';\nimport BoxBoard from './components/BoxBoard';\nimport UpdatingIndicator from './components/UpdatingIndicator';\nimport AddBoxCard from './components/AddBoxCard';\n\nfunction AirBoxApp() {\n  const airBoxModel = new AirBoxModel();\n\n  useEffect(() => {\n    airBoxModel.subscribe();\n    return () => {\n      airBoxModel.unSubscribe();\n    };\n  })\n\n  return (\n    <AirBoxModelContext.Provider value={airBoxModel}>\n      <UpdatingIndicator />\n      <BoxBoard />\n      <AddBoxCard />\n    </AirBoxModelContext.Provider>\n  );\n}\n\nexport default AirBoxApp;\n","import React, { useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { haveKey, setKey } from './auth';\n\nconst Login = () => {\n  const [key, update] = useState('');\n  const history = useHistory();\n  const location = useLocation<string>();\n\n  const from = location.state || \"/\";\n\n  if (haveKey()) {\n    history.goBack();\n    return null;\n  }\n\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const succeed = setKey(key);\n    if (succeed) {\n      history.replace(from);\n    } else {\n      update('');\n      alert('Invalid Key');\n    }\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input\n          type='password'\n          placeholder={'Enter password'}\n          autoComplete={'current-password'}\n          required\n          value={key}\n          onChange={e => update(e.target.value)}\n        />\n        <input type='submit' />\n      </form>\n    </div>\n  )\n}\n\nexport default Login;\n","import React, { Suspense } from \"react\";\nimport { NavLink, Redirect, Route, Switch, useLocation } from \"react-router-dom\";\nimport { haveKey } from \"./login/auth\";\nimport Home from './home';\nimport Calculator from './calculator';\nimport AirBox from './airbox';\nimport Login from './login';\nimport { css } from \"@emotion/css\";\n\nexport default function App() {\n  return (\n    <>\n      <Header />\n      <div style={{ flex: '1 auto' }}>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Switch>\n            <Route exact path=\"/\" render={() => <Home />} />\n            <Route path=\"/login\" render={() => <Login />} />\n            <Route path=\"/calc\" render={() => <Calculator />} />\n            <RedirectRoute path=\"/airbox\" defaultComponent={AirBox} />\n          </Switch>\n        </Suspense>\n      </div>\n    </>\n  );\n}\n\nfunction Header() {\n  const linkStyle = css`\n    color: white;\n    font-size: 20px;\n    padding-inline: 8px;\n    text-decoration: none;\n    transition: all ease-in-out 200ms;\n    &:hover {\n      background-color: white;\n      color: black;\n    };\n  `;\n  return (\n    <nav style={{ backgroundColor: '#1b1c1d', padding: '8px' }}>\n      <NavLink className={linkStyle} to='/'>Home</NavLink>\n      <NavLink className={linkStyle} to='/calc'>Calc</NavLink>\n      <NavLink className={linkStyle} to='/airbox'>AirBox</NavLink>\n    </nav>\n  )\n}\n\ninterface RedirectRouteProp {\n  defaultComponent: React.ComponentType\n}\n\nconst RedirectRoute = (props: React.ComponentProps<typeof Route> & RedirectRouteProp) => {\n  const location = useLocation();\n\n  return (\n    <Route\n      {...props}\n      path={props.path}\n      render={() => {\n        return haveKey() ? <props.defaultComponent /> :\n          <Redirect to={{ pathname: \"/login\", state: location.pathname }} />\n      }}\n    />\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorkerRegistration.register();\n\nreportWebVitals();\n"],"sourceRoot":""}