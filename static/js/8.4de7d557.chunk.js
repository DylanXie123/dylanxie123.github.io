(this["webpackJsonpgithub-pages"]=this["webpackJsonpgithub-pages"]||[]).push([[8],{136:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(145);function i(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},145:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},151:function(t,e){},158:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(136);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},228:function(t,e){},229:function(t,e){},237:function(t,e){},238:function(t,e){},248:function(t,e){},266:function(t,e){},267:function(t,e){},291:function(t,e){},293:function(t,e){},294:function(t,e){},297:function(t,e){},298:function(t,e){},303:function(t,e){},304:function(t,e){},312:function(t,e){},318:function(t,e){},321:function(t,e){},623:function(t,e,n){"use strict";n.r(e);var r,i=n(0),o=n.n(i),c=n(179),a=n(146),u=n(159),s=n(180),b=(n(181),n(126)),l=n(219),f=n.n(l);!function(t){t.Text="Text",t.Image="Image",t.URL="URL",t.File="File"}(r||(r={}));var d,p,j,h,x,O,g=n(51),v=(d=function(){function t(){var e=this;Object(a.a)(this,t),Object(c.a)(this,"models",p,this),Object(c.a)(this,"loading",j,this),this.liveQuery=void 0,this.subscribe=function(){var t=new f.a.Query("AirBox");t.find().then((function(t){return e.replace(t.map((function(t){return e.db2model(t)})))})),t.subscribe().then((function(t){e.liveQuery=t,t.on("create",(function(t){if(void 0!==t){var n=e.db2model(t);e.insert(n)}})),t.on("delete",(function(t){void 0!==t&&e.remove(t.get("objectId"))}))}))},this.unSubscribe=function(){var t;null===(t=e.liveQuery)||void 0===t||t.unsubscribe()},Object(c.a)(this,"replace",h,this),Object(c.a)(this,"insert",x,this),Object(c.a)(this,"remove",O,this),this.create=function(t){Object(b.b)((function(){return e.loading=!0}));var n=new(f.a.Object.extend("AirBox"));return n.set("content",t.content),n.set("boxType",r[t.boxType]),n.save()},this.delete=function(t){Object(b.b)((function(){return e.loading=!0})),f.a.Object.createWithoutData("AirBox",t).destroy()},Object(b.f)(this),void 0!==f.a.applicationId&&void 0!==f.a.applicationKey||f.a.init({appId:Object(g.a)("U2FsdGVkX1/TPOIGHT3r8heNdFSYA9nLjeeJzAvv3Q82Byx/wewZ/oYF/gZcC8EyqQxF/kk4z/BmI+cRx1qRGA=="),appKey:Object(g.a)("U2FsdGVkX18pD2lOaF7FhfP2LSOUccz4Re24wFh4cCEwmHBewmtcdLmw9H6ztRXm")}),this.subscribe()}return Object(u.a)(t,[{key:"db2model",value:function(t){return{id:t.get("objectId"),content:t.get("content"),boxType:r[t.get("content")]}}},{key:"boxes",get:function(){return this.models}},{key:"isLoading",get:function(){return this.loading}}]),t}(),p=Object(s.a)(d.prototype,"models",[b.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=Object(s.a)(d.prototype,"loading",[b.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),h=Object(s.a)(d.prototype,"replace",[b.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.models=e,t.loading=!1}}}),x=Object(s.a)(d.prototype,"insert",[b.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.models.push(e),t.loading=!1}}}),O=Object(s.a)(d.prototype,"remove",[b.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){var n=t.models.findIndex((function(t){return t.id===e}));n>-1&&t.models.splice(n,1),t.loading=!1}}}),Object(s.a)(d.prototype,"boxes",[b.c],Object.getOwnPropertyDescriptor(d.prototype,"boxes"),d.prototype),Object(s.a)(d.prototype,"isLoading",[b.c],Object.getOwnPropertyDescriptor(d.prototype,"isLoading"),d.prototype),d),y=new v,m=o.a.createContext(y),w=n(157),A=n(2),S=function(t){var e=Array.from(t.matchAll(/https?:\/\/[-a-zA-Z0-9@:%._~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b[-a-zA-Z0-9()@:%_.~#?&//=]*/g));if(0===e.length)return Object(A.jsx)("span",{children:t});for(var n=[],r=0;r<e.length;r++){var i=e[r],o=t.slice(i.index,i.index+i[0].length);if(0===r&&i.index>0&&n.push(Object(A.jsx)("span",{children:t.slice(0,i.index)},"textSpan-begin")),r===e.length-1){var c=t.slice(i.index+o.length,t.length);n.push(Object(A.jsx)("a",{href:o,target:"_blank",rel:"noreferrer",children:o},"a-".concat(r)),Object(A.jsx)("span",{children:c},"textSpan-".concat(r)));break}var a=e[r+1],u=t.slice(i.index+o.length,a.index);n.push(Object(A.jsx)("a",{href:o,target:"_blank",rel:"noreferrer",children:o},"a-".concat(r)),Object(A.jsx)("span",{children:u},"textSpan-".concat(r)))}return n},k=function(t){var e=Object(i.useContext)(m);return Object(A.jsxs)("div",{style:{flex:"1 200px",boxSizing:"border-box",maxWidth:"100%",border:"1px solid",overflowWrap:"break-word"},children:[S(t.box.content),Object(A.jsx)("button",{onClick:function(){e.delete(t.box.id)},children:"Delete"}),Object(A.jsx)("button",{onClick:function(){navigator.clipboard.writeText(t.box.content)},children:"Copy"})]})},z=n(158),C=function(){var t=Object(i.useContext)(m),e=Object(i.useState)(""),n=Object(z.a)(e,2),o=n[0],c=n[1];return Object(A.jsx)("div",{style:{border:"1px solid"},children:Object(A.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.create({content:o,boxType:r.Text}).catch((function(){alert("Fail to add")})),c("")},children:[Object(A.jsx)("input",{type:"text",placeholder:"Just type something\ud83d\ude0e",required:!0,value:o,onChange:function(t){return c(t.target.value)}}),Object(A.jsx)("input",{type:"submit"})]})})},F=Object(w.a)((function(){var t=Object(i.useContext)(m).boxes.map((function(t){return Object(A.jsx)(k,{box:t},t.id)}));return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{style:{display:"flex",flexWrap:"wrap",padding:"10px"},children:t}),Object(A.jsx)(C,{})]})})),I=Object(w.a)((function(){return Object(i.useContext)(m).isLoading?Object(A.jsx)("p",{children:"Updating..."}):null}));e.default=function(){var t=new v;return Object(i.useEffect)((function(){return function(){t.unSubscribe()}})),Object(A.jsxs)(m.Provider,{value:t,children:[Object(A.jsx)(I,{}),Object(A.jsx)(F,{})]})}}}]);
//# sourceMappingURL=8.4de7d557.chunk.js.map