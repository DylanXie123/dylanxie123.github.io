{"version":3,"sources":["serviceWorkerRegistration.ts","reportWebVitals.ts","login/auth.tsx","home/index.tsx","calculator/model/expression.tsx","calculator/model/controller.tsx","calculator/assets/icons/delete.svg","calculator/assets/icons/backspace.svg","calculator/components/MathKeyboard.tsx","calculator/components/MathBox.tsx","calculator/components/Plot.tsx","calculator/components/ResultBox.tsx","calculator/components/History.tsx","calculator/index.tsx","airbox/model/airboxModels.tsx","airbox/model/contentModel.ts","airbox/components/BoxCard.tsx","airbox/components/BoxBoard.tsx","airbox/components/UpdatingIndicator.tsx","airbox/components/AddBoxCard.tsx","airbox/index.tsx","login/index.tsx","App.tsx","index.tsx"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","authenticate","key","AES","decrypt","toString","Utf8Encode","haveKey","localStorage","getItem","length","cipher","Error","Home","Mode","require","Expression","db","parser","AlgebraLatex","initHistory","a","openDB","upgrade","createObjectStore","keyPath","getAll","data","runInAction","history","makeObservable","this","parseLatex","latex","toNerdamer","expression","evaluate","text","result","toTeX","calc2dis","forEach","v","k","replace","search","Defint","Limit","Matrix","Var","Eval","solveFor","nerdamer","integrate","diff","observable","action","rawLatex","item","expStr","date","Date","now","put","push","delete","index","findIndex","splice","computed","Map","RegExp","ExpContext","React","createContext","useExpStore","useContext","Controller","mfController","setController","mf","focus","add","insert","format","backspace","executeCommand","clear","move","direction","ControllerContext","MathKeyboard","keyboardStyle","css","className","ExtraKeyboard","map","MathKey","children","onclick","BasicKeyboard","row1","row2","command","row3","expStore","src","deleteIcon","alt","style","width","backIcon","row4","save","prop","btnStyle","spanStyle","onClick","MathBox","exp","virtualKeyboardMode","fontsDirectory","onContentDidChange","update","getValue","ref","mfe","fontSize","marginBlock","border","backgroundColor","gridColumn","outline","Plot","rootEl","useRef","useEffect","functionPlot","target","current","height","grid","title","fn","e","ResultBox","observer","mode","EvalResultBox","SymResultBox","evalResult","eval","textResult","undefined","getRawLaTeX","content","useMathView","InfoBox","Component","color","padding","paddingLeft","fontFamily","userSelect","ExprBox","value","readOnly","display","marginLeft","TextBox","HistoryBox","listStyleType","paddingInline","getHistory","ItemContainer","justifyContent","marginRight","deleteHistory","Calculator","Provider","History","position","bottom","GridContainer","props","margin","flex","gridTemplateColumns","AirBoxModel","supabase","initSupabase","createClient","process","schema","headers","autoRefreshToken","persistSession","detectSessionInUrl","createText","type","refUrl","createContentModel","modelItem","id","uuidv4","createdDate","undoFn","insertModel","insertDB","from","db2model","removeDB","dbItem","parse","models","updatingItem","file","uuid","removeIndex","removeModel","select","airBoxModel","AirBoxModelContext","UrlBox","urls","Array","matchAll","elements","url","link","slice","textContent","href","rel","laterUrl","ImageBox","box","BoxCard","paddingBlock","borderRadius","overflowWrap","split","getBoxDom","marginTop","borderTop","paddingTop","removeItem","clipboard","writeText","BoxBoard","boxes","getModels","flexDirection","maxWidth","UpdatingIndicator","getUpdatingItem","AddBoxCard","useState","fileInput","createRef","boxSizing","onSubmit","event","preventDefault","alert","placeholder","required","onChange","files","createFile","AirBoxApp","retrieve","Login","useHistory","useLocation","goBack","setItem","setKey","autoComplete","App","Header","fallback","exact","path","render","defaultComponent","AirBox","linkStyle","to","RedirectRoute","pathname","ReactDOM","document","getElementById","URL","origin","addEventListener","fetch","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.56b7a949.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import AES from 'crypto-js/aes';\nimport Utf8Encode from 'crypto-js/enc-utf8';\n\nconst authenticate = (key: string) => {\n  const cipher = 'U2FsdGVkX19LkQydklw7F7RbgOdCBwXD1cfvQjLgfTYe+go46H+MPCsBFVBV1Q2w';\n  const text = AES.decrypt(cipher, key).toString(Utf8Encode)\n  return text === 'Hello, React&App'\n};\n\nexport const haveKey = () => {\n  const key = localStorage.getItem('private key')\n  if (key && key.length !== 0 && authenticate(key)) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport const setKey = (key: string) => {\n  if (authenticate(key)) {\n    localStorage.setItem('private key', key);\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport const decrypt = (cipher: string | undefined) => {\n  const key = localStorage.getItem('private key');\n  if (!key || key.length === 0 || !cipher || cipher.length === 0) {\n    throw Error(`decrypt ${cipher} failed`);\n  } else {\n    return AES.decrypt(cipher, key).toString(Utf8Encode)\n  }\n}\n","import React from 'react'\n\nexport default function Home() {\n  return <p>Home</p>\n}","import { action, computed, makeObservable, observable, runInAction } from \"mobx\";\nimport React, { useContext } from \"react\";\nimport nerdamer from 'nerdamer';\nimport AlgebraLatex from 'algebra-latex';\nimport { openDB, DBSchema, IDBPDatabase } from 'idb';\nrequire('nerdamer/all');\n\nexport enum Mode {\n  Eval,\n  Var,\n  Defint,\n  Limit,\n  Matrix,\n};\n\nexport interface ExprHistory {\n  expStr: string,\n  date: number,\n}\n\ninterface ExprDB extends DBSchema {\n  expressions: {\n    value: ExprHistory;\n    key: number;\n  };\n}\n\nexport default class Expression {\n  @observable private latex: string = '';\n\n  @observable private history: ExprHistory[] = [];\n\n  private db: IDBPDatabase<ExprDB> | undefined;\n\n  private parser = new AlgebraLatex();\n\n  constructor() {\n    makeObservable(this);\n  }\n\n  initHistory = async () => {\n    const db = await openDB<ExprDB>('expr-db', 1, {\n      upgrade(db) {\n        db.createObjectStore('expressions', { keyPath: 'date' });\n      },\n    });\n    this.db = db;\n    const data = await db.getAll(\"expressions\");\n    runInAction(() => { this.history = data });\n  }\n\n  @action\n  update = (rawLatex: string) => {\n    this.latex = rawLatex;\n  }\n\n  @action\n  save = () => {\n    if (this.db && this.latex.length > 0) {\n      const item = { expStr: this.latex, date: Date.now() };\n      this.db.put('expressions', item);\n      this.history.push(item);\n    } else {\n      console.log('Invalid save')\n    }\n  }\n\n  @action\n  deleteHistory = (item: ExprHistory) => {\n    this.db?.delete('expressions', item.date);\n    const index = this.history.findIndex((history) => history.date === item.date);\n    if (index > -1) {\n      this.history.splice(index, 1);\n    }\n  }\n\n  @computed get expression() {\n    try {\n      return this.parser.parseLatex(this.latex).toNerdamer() as nerdamer.Expression;\n    } catch (error) {\n      return undefined;\n    }\n  }\n\n  @computed get eval() {\n    try {\n      return this.expression!.evaluate().text();\n    } catch (error) {\n      return undefined;\n    }\n  }\n\n  @computed get text() {\n    try {\n      // TODO: Implement only here, find a better way to implement to all method\n      let result = this.expression?.toTeX();\n      calc2dis.forEach((v, k) => result = result?.replace(k, v));\n      return result;\n    } catch (error) {\n      return undefined;\n    }\n  }\n\n  @computed get mode(): Mode {\n    try {\n      if (this.latex.search('int') >= 0) {\n        return Mode.Defint;\n      } else if (this.latex.search('limit') >= 0) {\n        return Mode.Limit;\n      } else if (this.latex.search('matrix') >= 0) {\n        return Mode.Matrix;\n      } else if (this.latex.search('x') >= 0) {\n        return Mode.Var;\n      } else {\n        return Mode.Eval;\n      }\n    } catch (error) {\n      return Mode.Eval;\n    }\n  }\n\n  @computed get solve() {\n    try {\n      return this.expression!.solveFor('x').toTeX();\n    } catch (error) {\n      return undefined;\n    }\n  }\n\n  @computed get integrate() {\n    try {\n      return nerdamer.integrate(this.expression!, 'x').toTeX();\n    } catch (error) {\n      return undefined;\n    }\n  }\n\n  @computed get diff() {\n    try {\n      return nerdamer.diff(this.expression!, 'x').toTeX();\n    } catch (error) {\n      return undefined;\n    }\n  }\n\n  @computed get getRawLaTeX() {\n    return this.latex;\n  }\n\n  @computed get getHistory() {\n    return this.history\n  }\n\n}\n\nconst calc2dis = new Map<RegExp, string>([\n  [RegExp('\\\\\\\\cdot', 'g'), '\\\\times'],\n]);\n\nexport const ExpContext = React.createContext<Expression>(new Expression());\n\nexport const useExpStore = () => {\n  const store = useContext(ExpContext);\n  return store;\n}","import { Mathfield } from 'mathlive/dist/public/mathfield'\nimport React from 'react';\n\nexport default class Controller {\n  private mfController!: Mathfield;\n\n  setController = (mf: Mathfield) => {\n    this.mfController = mf;\n    this.focus();\n  }\n\n  add = (expression: string) => this.mfController.insert(expression, { focus: true, format: \"latex\" });\n\n  backspace = () => {\n    this.mfController.executeCommand(\"deleteBackward\");\n    this.focus();\n  }\n\n  clear = () => {\n    this.mfController.executeCommand(\"deleteAll\");\n    this.focus();\n  }\n\n  move = (direction: Direction) => {\n    if (direction === \"forward\") {\n      this.mfController.executeCommand(\"moveToNextChar\");\n    } else {\n      this.mfController.executeCommand(\"moveToPreviousChar\");\n    }\n    this.focus();\n  }\n\n  private focus = () => {\n    if (this.mfController && this.mfController.focus) {\n      this.mfController.focus();\n    }\n  }\n}\n\ntype Direction = 'forward' | 'backword';\n\nconst controller = new Controller();\nexport const ControllerContext = React.createContext<Controller>(controller);","export default __webpack_public_path__ + \"static/media/delete.020411b3.svg\";","export default __webpack_public_path__ + \"static/media/backspace.521c7719.svg\";","import React, { MouseEventHandler, useContext } from \"react\";\nimport { ControllerContext } from \"../model/controller\";\nimport deleteIcon from '../assets/icons/delete.svg';\nimport backIcon from '../assets/icons/backspace.svg';\nimport '../assets/fonts/font.css';\nimport { useExpStore } from \"../model/expression\";\nimport { css } from \"@emotion/css\";\n\nexport default function MathKeyboard() {\n\n  const keyboardStyle = css`\n    display: grid;\n    grid-template-columns: repeat(5, 1fr);\n    justify-content: center;\n    gap: 2px;\n    grid-auto-rows: minmax(32px, auto);\n    max-width: 350px;\n    margin: auto;\n    user-select: none;\n  `;\n\n  return (\n    <div className={keyboardStyle}>\n      {ExtraKeyboard().map(\n        (key, index) => (\n          <div key={'extra' + index}>\n            <MathKey\n              children={key.children}\n              onclick={key.onclick}\n              key={index}\n            />\n          </div>\n        )\n      )}\n      {BasicKeyboard().map(\n        (key, index) => (\n          <div key={'basic' + index} >\n            <MathKey\n              children={key.children}\n              onclick={key.onclick}\n              key={index}\n            />\n          </div>\n        )\n      )}\n    </div>\n  );\n}\n\nfunction ExtraKeyboard(): MathKeyProp[] {\n  const controller = useContext(ControllerContext);\n\n  const row1: Array<MathKeyProp> = ['sin', 'cos', 'tan', 'log'].map((v) => ({\n    children: v,\n    onclick: () => {\n      controller.add(`\\\\${v}({#?})`);\n    }\n  }));\n\n  row1.push({\n    children: 'sqrt',\n    onclick: () => {\n      controller.add(\"\\\\sqrt\");\n    }\n  })\n\n  const row2Trig: Array<Record<\"children\" | \"command\", string>> = [\n    {\n      children: 'asin',\n      command: '\\\\arcsin({#?})'\n    },\n    {\n      children: 'cos',\n      command: '\\\\arccos({#?})'\n    },\n    {\n      children: 'tan',\n      command: '\\\\arctan({#?})'\n    },\n    {\n      children: 'e^',\n      command: 'e^{#?}'\n    },\n    {\n      children: '^2',\n      command: '{#?}^2'\n    },\n  ];\n\n  const row2: Array<MathKeyProp> = row2Trig.map((v) => ({\n    children: v.children,\n    onclick: () => controller.add(v.command)\n  }));\n\n  const row3: Array<MathKeyProp> = [{\n    children: 'frac',\n    onclick: () => controller.add('\\\\frac'),\n  }];\n\n  ['(', ')'].map((v) => (\n    row3.push({\n      children: v,\n      onclick: () => {\n        controller.add(v);\n      }\n    })\n  ));\n\n  row3.push({\n    children: '←',\n    onclick: () => {\n      controller.move(\"backword\");\n    }\n  })\n\n  row3.push({\n    children: '→',\n    onclick: () => {\n      controller.move(\"forward\");\n    }\n  })\n  return [...row1, ...row2, ...row3];\n}\n\nfunction BasicKeyboard(): MathKeyProp[] {\n  const controller = useContext(ControllerContext);\n  const expStore = useExpStore();\n\n  const row1: Array<MathKeyProp> = ['7', '8', '9'].map((v) => ({\n    children: v,\n    onclick: () => controller.add(v)\n  }));\n\n  row1.push({\n    children: <img src={deleteIcon} alt=\"del\" style={{ width: 20 }} />,\n    onclick: () => controller.clear()\n  })\n\n  row1.push({\n    children: <img src={backIcon} alt=\"backspace\" style={{ width: 20 }} />,\n    onclick: () => controller.backspace()\n  })\n\n  const row2: Array<MathKeyProp> = ['4', '5', '6', '+', '-'].map((v) => ({\n    children: v,\n    onclick: () => controller.add(v)\n  }));\n\n  const row3: Array<MathKeyProp> = ['1', '2', '3', '*', '/'].map((v) => ({\n    children: v,\n    onclick: () => controller.add(v)\n  }));\n\n  const row4: Array<MathKeyProp> = ['0', '.', 'e'].map((v) => ({\n    children: v,\n    onclick: () => controller.add(v)\n  }));\n\n  row4.push({\n    children: 'pi',\n    onclick: () => controller.add('\\\\pi')\n  })\n\n  row4.push({\n    children: '=',\n    onclick: () => expStore.save()\n  })\n\n  return [...row1, ...row2, ...row3, ...row4];\n}\n\ninterface MathKeyProp {\n  onclick: MouseEventHandler\n  children?: string | JSX.Element\n}\n\nfunction MathKey(prop: MathKeyProp) {\n\n  const btnStyle = css`\n    text-transform: lowercase;\n    cursor: pointer;\n    height: 100%;\n    width: 100%;\n    padding: 2px;\n    background: none;\n    border: 1px solid;\n    border-radius: 5px;\n    transition: all 200ms ease-in-out;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    &:hover {\n      background: lightgrey;\n    };\n    &:focus {\n      transform: scale(0.95);\n      border-width: 2px;\n      padding: 1px;\n    }\n  `;\n\n  const spanStyle = css`\n    font-family:'KaTeX';\n    font-size: 20px;\n  `;\n\n  return (\n    <button\n      onClick={prop.onclick}\n      className={btnStyle}\n    >\n      {typeof prop.children === 'string' ?\n        <span className={spanStyle}> {prop.children} </span> :\n        prop.children}\n    </button>\n  );\n}","import React, { useContext } from \"react\";\nimport { useExpStore } from \"../model/expression\";\nimport { ControllerContext } from '../model/controller';\nimport MathView from \"react-math-view\";\n\nexport default function MathBox() {\n  const exp = useExpStore();\n  const controller = useContext(ControllerContext);\n\n  return (\n    <MathView\n      virtualKeyboardMode='off'\n      fontsDirectory={'../assets/fonts'}\n      onContentDidChange={\n        mf => exp.update(mf.getValue(\"latex-expanded\"))\n      }\n      ref={(mfe) => {\n        if (mfe) {\n          controller.setController(mfe);\n        }\n      }}\n      style={{\n        fontSize: 24,\n        marginBlock: 5,\n        border: '2px dashed black',\n        backgroundColor: 'white',\n        gridColumn: '1/-1',\n        outline: 0,\n      }}\n    />\n  );\n}","import React, { useEffect, useRef } from 'react'\nimport functionPlot from 'function-plot';\n\ninterface PlotProp {\n  expStr: string,\n}\n\nconst Plot = (prop: PlotProp) => {\n  let rootEl = useRef(null);\n\n  useEffect(() => {\n    try {\n      functionPlot({\n        target: rootEl.current ?? \"\",\n        width: 800,\n        height: 300,\n        grid: true,\n        title: prop.expStr,\n        data: [{\n          fn: prop.expStr,\n        }]\n      })\n    } catch (e) { }\n  })\n\n  return (<div ref={rootEl} />)\n}\n\nexport default Plot;","import { observer } from \"mobx-react-lite\";\nimport React, { useContext } from \"react\";\nimport { Mode, useExpStore } from \"../model/expression\";\nimport MathView from 'react-math-view';\nimport { ControllerContext } from \"../model/controller\";\nimport Plot from \"./Plot\";\n\nconst ResultBox = observer(() => {\n  const exp = useExpStore();\n\n  switch (exp.mode) {\n    case Mode.Eval:\n      return (<EvalResultBox />);\n    case Mode.Var:\n      return (<SymResultBox />);\n    default:\n      return (<EvalResultBox />);\n  }\n});\n\nconst EvalResultBox = observer(() => {\n  const exp = useExpStore();\n  const evalResult = exp.eval;\n  const textResult = exp.text;\n\n  if (evalResult === undefined) {\n    if (exp.getRawLaTeX) {\n      return <InfoBox title={'LaTeX'} content={exp.getRawLaTeX} useMathView={false} />;\n    } else {\n      return null\n    }\n  }\n\n  if (evalResult === textResult) {\n    return (\n      <div>\n        <InfoBox title={'LaTeX'} content={exp.getRawLaTeX} useMathView={false} />\n        <InfoBox title={'Eval'} content={`${evalResult}`} useMathView />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <InfoBox title={'LaTeX'} content={exp.getRawLaTeX} useMathView={false} />\n      <InfoBox title={'Eval'} content={`${exp.text}`} useMathView />\n      <InfoBox title={'Calc'} content={`${exp.eval}`} useMathView />\n    </div>\n  );\n});\n\n\nconst SymResultBox = observer(() => {\n  const exp = useExpStore();\n\n  if (exp.integrate === undefined) {\n    return null;\n  }\n\n  return (\n    <div>\n      <InfoBox title={'LaTeX'} content={exp.getRawLaTeX} useMathView={false} />\n      <InfoBox title={'Integrate'} content={`${exp.integrate}`} useMathView />\n      <InfoBox title={'Diff'} content={`${exp.diff}`} useMathView />\n      {exp.eval ? <Plot expStr={exp.eval} /> : null}\n    </div>\n  );\n});\n\ninterface InfoBoxProp {\n  title: string,\n  content: string,\n  useMathView: boolean,\n}\n\nconst InfoBox = (prop: InfoBoxProp) => {\n\n  const Component = prop.useMathView ?\n    <ExprBox content={prop.content} /> :\n    <TextBox content={prop.content} />;\n\n  return (\n    <div style={{ border: '1px solid black' }}>\n      <div style={{ backgroundColor: 'black', color: 'white', padding: 2, paddingLeft: 10, fontFamily: 'KaTeX', userSelect: \"none\" }}>{prop.title}</div>\n      <div style={{ padding: 5, paddingLeft: 10 }}>\n        {Component}\n      </div>\n    </div>\n  );\n}\n\nconst ExprBox = (prop: { content: string }) => {\n  const controller = useContext(ControllerContext);\n  return (\n    <>\n      <MathView\n        value={prop.content}\n        readOnly={true}\n        style={{ outline: 0, display: 'inline-block' }}\n        fontsDirectory={'../assets/fonts'}\n      />\n      <button\n        style={{ marginLeft: '20pt' }}\n        onClick={() => {\n          controller.clear();\n          controller.add(prop.content);\n        }}\n        children={'+'} />\n    </>\n  );\n};\n\nconst TextBox = (prop: { content: string }) => {\n  return (\n    <span style={{ fontFamily: \"KaTeX\" }}>{prop.content}</span>\n  );\n}\n\nexport default ResultBox;","import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { ExprHistory, useExpStore } from \"../model/expression\";\n\nconst HistoryBox = observer(() => {\n  const exp = useExpStore();\n  return (\n    <div style={{ border: '1px solid black' }}>\n      <div style={{ backgroundColor: 'black', color: 'white', padding: 5, paddingLeft: 10 }}>History</div>\n      <ul style={{ listStyleType: 'none', paddingInline: 10 }}>\n        {exp.getHistory.map((item, index) => {\n          return (<ItemContainer key={index} item={item} />);\n        })}\n      </ul>\n    </div>\n  );\n});\n\nconst ItemContainer = (prop: { item: ExprHistory }) => {\n\n  const exp = useExpStore();\n\n  const handleClick = () => {\n    exp.deleteHistory(prop.item);\n  }\n\n  return (\n    <li style={{ display: \"flex\", justifyContent: 'space-between' }}>\n      <span style={{ marginRight: 20 }}>{prop.item.expStr}</span>\n      <button onClick={handleClick}>Del</button>\n    </li>\n  )\n}\n\nexport default HistoryBox;","import React, { useEffect } from 'react';\nimport './model/expression';\nimport Expression, { ExpContext } from './model/expression';\nimport Controller, { ControllerContext } from './model/controller';\nimport MathKeyboard from './components/MathKeyboard';\nimport MathBox from './components/MathBox';\nimport ResultBox from './components/ResultBox';\nimport HistoryBox from './components/History';\n\nexport default function Calculator() {\n  const controller = new Controller();\n  const expStore = new Expression();\n\n  useEffect(() => { expStore.initHistory() });\n\n  return (\n    <ControllerContext.Provider value={controller} >\n      <ExpContext.Provider value={expStore}>\n        <GridContainer>\n          <MathBox />\n          <div style={{ gridColumn: '1/9' }}><ResultBox /></div>\n          <div style={{ gridColumn: '9/-1' }}><HistoryBox /></div>\n        </GridContainer>\n        <div style={{ position: 'fixed', bottom: 10, width: '100%' }}>\n          <MathKeyboard />\n        </div>\n      </ExpContext.Provider>\n    </ControllerContext.Provider>\n  );\n}\n\nconst GridContainer = (props: { children: React.ReactNode }) => {\n  return (\n    <div style={{ width: '90%', margin: 'auto', flex: '1 0 auto' }}>\n      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(12, 1fr)' }}>\n        {props.children}\n      </div>\n    </div>\n  )\n}\n","import { action, computed, makeObservable, observable } from \"mobx\";\nimport React from \"react\";\nimport { createClient, SupabaseClient } from '@supabase/supabase-js';\nimport ContentModel, { createContentModel } from \"./contentModel\";\nimport { decrypt } from \"../../login/auth\";\n\nexport default class AirBoxModel {\n  @observable\n  private models: ContentModel[] = [];\n\n  @observable\n  private updatingItem: number = -1;\n\n  private supabase!: SupabaseClient;\n\n  constructor() {\n    makeObservable(this);\n    this.initSupabase();\n  }\n\n  private initSupabase = () => {\n    const options = {\n      schema: 'public',\n      headers: { 'x-my-custom-header': 'airbox' },\n      autoRefreshToken: true,\n      persistSession: true,\n      detectSessionInUrl: true\n    }\n    this.supabase = createClient(\n      decrypt(process.env.REACT_APP_SUPABASE_URL!),\n      decrypt(process.env.REACT_APP_SUPABASE_KEY!),\n      options\n    );\n  }\n\n  createText = async (text: string) => {\n    const modelItem = createContentModel(text, 'text/plain');\n    const undoFn = this.insertModel(modelItem);\n    const dbResult = await this.insertDB(modelItem);\n    if (dbResult !== false) {\n      return true;\n    } else {\n      undoFn();\n      return false;\n    }\n  }\n\n  @action\n  createFile = (file: File) => {\n    // this.status = \"loading\";\n    // const savedFile = await file.save();\n\n    // return this.create({\n    //   content: savedFile.name(),\n    //   boxType: box.type,\n    //   refId: savedFile.id,\n    //   refUrl: savedFile.url(),\n    // })\n  }\n\n  @action\n  private insertModel = (item: ContentModel) => {\n    const insertIndex = 0;\n    this.models.splice(insertIndex, 0, item);\n    this.updatingItem = insertIndex;\n\n    const undoFn = () => {\n      this.models.splice(insertIndex, 1);\n      this.updatingItem = -1;\n    }\n\n    return action(undoFn);\n  }\n\n  private insertDB = async (item: ContentModel) => {\n    try {\n      const { data, error } = await this.supabase\n        .from<ContentModel>('contents')\n        .insert(item);\n      if (error === null) return data.map(this.db2model);\n    } catch (_) { }\n    return false;\n  }\n\n  @action\n  removeItem = async (uuid: string) => {\n    const removeIndex = this.models.findIndex(v => v.id === uuid);\n    if (removeIndex > -1) {\n      const undoFn = this.removeModel(removeIndex);\n      const dbResult = await this.removeDB(uuid);\n      if (dbResult === true) {\n        return true;\n      } else {\n        undoFn();\n        return false;\n      }\n    }\n  }\n\n  @action\n  private removeModel = (removeIndex: number) => {\n    const modelItem = this.models[removeIndex];\n    this.models.splice(removeIndex, 1);\n    this.updatingItem = removeIndex;\n\n    const undoFn = () => {\n      this.models.splice(removeIndex, 0, modelItem);\n      this.updatingItem = -1;\n    }\n\n    return action(undoFn);\n  }\n\n  private removeDB = async (id: string) => {\n    try {\n      const { error } = await this.supabase\n        .from('contents')\n        .delete()\n        .match({ id: id });\n      if (error === null) return true;\n    } catch (_) { }\n    return false;\n  }\n\n  @action\n  retrieve = async () => {\n    this.updatingItem = 0;\n    const { data, error } = await this.supabase\n      .from('contents')\n      .select();\n    this.updatingItem = -1;\n    if (error === null) {\n      this.models = data.map(this.db2model);\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  private db2model(dbItem: any): ContentModel {\n    console.log(dbItem)\n    return {\n      ...dbItem,\n      createdDate: Date.parse(dbItem.createdDate),\n    };\n  }\n\n  @computed get getModels() {\n    return this.models;\n  }\n\n  @computed get getUpdatingItem() {\n    return this.updatingItem;\n  }\n}\n\nconst airBoxModel = new AirBoxModel();\nexport const AirBoxModelContext = React.createContext<AirBoxModel>(airBoxModel);\n","import { v4 as uuidv4 } from 'uuid';\n\nexport default interface ContentModel {\n  id: string;\n\n  createdDate: Date;\n\n  content: string;\n\n  type: string;\n\n  refUrl?: string;\n}\n\nexport function createContentModel(\n  content: string, type: string, refUrl?: string\n): ContentModel {\n  return {\n    id: uuidv4(),\n    createdDate: new Date(),\n    content: content,\n    type: type,\n    refUrl: refUrl,\n  }\n}","import React, { useContext } from \"react\";\nimport ContentModel from \"../model/contentModel\";\nimport { AirBoxModelContext } from \"../model/airboxModels\";\n\ninterface BoxCardProp {\n  box: ContentModel\n}\n\nconst BoxCard = (prop: BoxCardProp) => {\n  const airBoxModel = useContext(AirBoxModelContext);\n\n  const getBoxDom = (box: ContentModel) => {\n    switch (box.type.split('/')[0]) {\n      case 'text':\n        return UrlBox(prop.box.content)\n      case 'image':\n        return ImageBox(prop.box)\n      default:\n        return UrlBox(prop.box.refUrl!)\n    }\n  }\n\n  const boxStyle: React.CSSProperties = {\n    flex: '1',\n    paddingBlock: '10px',\n    paddingInline: '20px',\n    border: '2px solid lightgrey',\n    borderRadius: '5px',\n    margin: '5px',\n    overflowWrap: 'break-word',\n  };\n\n  const btnGroupStyle: React.CSSProperties = {\n    marginTop: '5px',\n    borderTop: '2px solid lightgrey',\n    paddingTop: '5px',\n  };\n\n  return (\n    <div style={boxStyle}>\n      {getBoxDom(prop.box)}\n      <div style={btnGroupStyle}>\n        <button onClick={() => { airBoxModel.removeItem(prop.box.id) }}>Delete</button>\n        <button onClick={() => { navigator.clipboard.writeText(prop.box.content) }}>Copy</button>\n      </div>\n    </div>\n  );\n}\n\nconst UrlBox = (content: string) => {\n  const urlRegexp = /https?:\\/\\/[-a-zA-Z0-9@:%._~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b[-a-zA-Z0-9()@:%_.~#?&//=]*/g;\n  const urls = Array.from(content.matchAll(urlRegexp));\n\n  if (urls.length === 0) {\n    return <span>{content}</span>\n  }\n\n  const elements: Array<JSX.Element> = [];\n  for (let index = 0; index < urls.length; index++) {\n    // text-url-text-...-url-text\n    const url = urls[index];\n    const link = content.slice(url.index, url.index! + url[0].length);\n\n    if (index === 0 && url.index! > 0) {\n      elements.push(\n        <span key={'textSpan-begin'}>{content.slice(0, url.index)}</span>\n      );\n    }\n\n    if (index === urls.length - 1) {\n      const textContent = content.slice(url.index! + link.length, content.length);\n      elements.push(\n        <a key={`a-${index}`} href={link} target={'_blank'} rel={'noreferrer'}>{link}</a>,\n        <span key={`textSpan-${index}`}>{textContent}</span>\n      );\n      break;\n    }\n\n    // later str\n    const laterUrl = urls[index + 1];\n    const textContent = content.slice(url.index! + link.length, laterUrl.index);\n    elements.push(\n      <a key={`a-${index}`} href={link} target={'_blank'} rel={'noreferrer'}>{link}</a>,\n      <span key={`textSpan-${index}`}>{textContent}</span>\n    );\n\n  }\n  return elements\n}\n\nconst ImageBox = (box: ContentModel) => {\n  return (\n    <img src={box.refUrl} alt={box.content} height={200} />\n  );\n}\n\nexport default BoxCard","import React, { useContext } from 'react';\nimport { AirBoxModelContext } from '../model/airboxModels';\nimport { observer } from 'mobx-react-lite';\nimport BoxCard from './BoxCard';\n\nconst BoxBoard = observer(() => {\n  const airBoxModel = useContext(AirBoxModelContext);\n\n  const boxes = airBoxModel.getModels.map(box => (\n    <BoxCard key={box.id} box={box} />\n  ));\n\n  const style: React.CSSProperties = {\n    display: 'flex',\n    flexDirection: 'column',\n    margin: 'auto',\n    marginBlock: '10px',\n    maxWidth: '900px',\n  };\n\n  return (\n    <div style={style}>\n      {boxes}\n      <div style={{ height: '50px' }} />\n    </div>\n  );\n})\n\nexport default BoxBoard","import { observer } from \"mobx-react-lite\";\nimport React, { useContext } from \"react\";\nimport { AirBoxModelContext } from \"../model/airboxModels\";\n\nconst UpdatingIndicator = observer(() => {\n  const airBoxModel = useContext(AirBoxModelContext);\n  if (airBoxModel.getUpdatingItem > -1) {\n    return (<p>Updating...</p>);\n  } else {\n    return null;\n  }\n})\n\nexport default UpdatingIndicator;","import React, { useContext, useState } from \"react\";\nimport { AirBoxModelContext } from \"../model/airboxModels\";\n\nconst AddBoxCard = () => {\n  const airBoxModel = useContext(AirBoxModelContext);\n  const [content, update] = useState('');\n  const fileInput = React.createRef<HTMLInputElement>();\n\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    airBoxModel.createText(content)\n      .catch(() => { alert('Fail to add') });\n    update('');\n  }\n\n  const handleFileSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    if (fileInput.current && fileInput.current.files) {\n      airBoxModel.createFile(fileInput.current.files[0]);\n    }\n  }\n\n  const style: React.CSSProperties = {\n    width: '100%',\n    padding: '5px',\n    boxSizing: 'border-box',\n    backgroundColor: 'grey',\n    position: 'fixed',\n    bottom: '0',\n  }\n\n  return (\n    <div style={style}>\n      <form onSubmit={handleSubmit}>\n        <input\n          type='text'\n          placeholder={'Just type something😎'}\n          required\n          value={content}\n          onChange={(e) => update(e.target.value)}\n        />\n        <input type='submit' />\n      </form>\n      <form onSubmit={handleFileSubmit}>\n        <input\n          type='file'\n          ref={fileInput}\n        />\n        <input type='submit' />\n      </form>\n    </div>\n  );\n}\n\nexport default AddBoxCard","import React, { useEffect } from 'react';\nimport AirBoxModel, { AirBoxModelContext } from './model/airboxModels';\nimport BoxBoard from './components/BoxBoard';\nimport UpdatingIndicator from './components/UpdatingIndicator';\nimport AddBoxCard from './components/AddBoxCard';\n\nfunction AirBoxApp() {\n  const airBoxModel = new AirBoxModel();\n\n  useEffect(() => {\n    airBoxModel.retrieve();\n  })\n\n  return (\n    <AirBoxModelContext.Provider value={airBoxModel}>\n      <UpdatingIndicator />\n      <BoxBoard />\n      <AddBoxCard />\n    </AirBoxModelContext.Provider>\n  );\n}\n\nexport default AirBoxApp;\n","import React, { useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { haveKey, setKey } from './auth';\n\nconst Login = () => {\n  const [key, update] = useState('');\n  const history = useHistory();\n  const location = useLocation<string>();\n\n  const from = location.state || \"/\";\n\n  if (haveKey()) {\n    history.goBack();\n    return null;\n  }\n\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const succeed = setKey(key);\n    if (succeed) {\n      history.replace(from);\n    } else {\n      update('');\n      alert('Invalid Key');\n    }\n  }\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input\n          type='password'\n          placeholder={'Enter password'}\n          autoComplete={'current-password'}\n          required\n          value={key}\n          onChange={e => update(e.target.value)}\n        />\n        <input type='submit' />\n      </form>\n    </div>\n  )\n}\n\nexport default Login;\n","import React, { Suspense } from \"react\";\nimport { NavLink, Redirect, Route, Switch, useLocation } from \"react-router-dom\";\nimport { haveKey } from \"./login/auth\";\nimport Home from './home';\nimport Calculator from './calculator';\nimport AirBox from './airbox';\nimport Login from './login';\nimport { css } from \"@emotion/css\";\n\nexport default function App() {\n  return (\n    <>\n      <Header />\n      <div style={{ flex: '1 auto' }}>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Switch>\n            <Route exact path=\"/\" render={() => <Home />} />\n            <Route path=\"/login\" render={() => <Login />} />\n            <Route path=\"/calc\" render={() => <Calculator />} />\n            <RedirectRoute path=\"/airbox\" defaultComponent={AirBox} />\n          </Switch>\n        </Suspense>\n      </div>\n    </>\n  );\n}\n\nfunction Header() {\n  const linkStyle = css`\n    color: white;\n    font-size: 20px;\n    padding-inline: 8px;\n    text-decoration: none;\n    transition: all ease-in-out 200ms;\n    &:hover {\n      background-color: white;\n      color: black;\n    };\n  `;\n  return (\n    <nav style={{ backgroundColor: '#1b1c1d', padding: '8px' }}>\n      <NavLink className={linkStyle} to='/'>Home</NavLink>\n      <NavLink className={linkStyle} to='/calc'>Calc</NavLink>\n      <NavLink className={linkStyle} to='/airbox'>AirBox</NavLink>\n    </nav>\n  )\n}\n\ninterface RedirectRouteProp {\n  defaultComponent: React.ComponentType\n}\n\nconst RedirectRoute = (props: React.ComponentProps<typeof Route> & RedirectRouteProp) => {\n  const location = useLocation();\n\n  return (\n    <Route\n      {...props}\n      path={props.path}\n      render={() => {\n        return haveKey() ? <props.defaultComponent /> :\n          <Redirect to={{ pathname: \"/login\", state: location.pathname }} />\n      }}\n    />\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorkerRegistration.register();\n\nreportWebVitals();\n"],"sourceRoot":""}