(this["webpackJsonpgithub-pages"]=this["webpackJsonpgithub-pages"]||[]).push([[7],{141:function(e,t){},224:function(e,t){},225:function(e,t){},233:function(e,t){},234:function(e,t){},244:function(e,t){},262:function(e,t){},263:function(e,t){},287:function(e,t){},289:function(e,t){},290:function(e,t){},293:function(e,t){},294:function(e,t){},299:function(e,t){},300:function(e,t){},308:function(e,t){},314:function(e,t){},317:function(e,t){},324:function(e,t){},600:function(e,t,n){"use strict";var a=n(113),i=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(23)),o=i(n(24)),s=a(n(0)),c=(i(n(3)),i(n(36))),l=i(n(601)),u=i(n(135)),d={root:{overflow:"hidden"}};t.styles=d;var f=s.forwardRef((function(e,t){var n=e.classes,a=e.className,i=e.raised,u=void 0!==i&&i,d=(0,o.default)(e,["classes","className","raised"]);return s.createElement(l.default,(0,r.default)({className:(0,c.default)(n.root,a),elevation:u?8:1,ref:t},d))})),p=(0,u.default)(d,{name:"MuiCard"})(f);t.default=p},601:function(e,t,n){"use strict";var a=n(14);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=a(n(602))},602:function(e,t,n){"use strict";var a=n(113),i=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(24)),o=i(n(23)),s=a(n(0)),c=(i(n(3)),i(n(36))),l=(n(7),i(n(135))),u=function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,o.default)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)};t.styles=u;var d=s.forwardRef((function(e,t){var n=e.classes,a=e.className,i=e.component,l=void 0===i?"div":i,u=e.square,d=void 0!==u&&u,f=e.elevation,p=void 0===f?1:f,m=e.variant,v=void 0===m?"elevation":m,g=(0,r.default)(e,["classes","className","component","square","elevation","variant"]);return s.createElement(l,(0,o.default)({className:(0,c.default)(n.root,a,"outlined"===v?n.outlined:n["elevation".concat(p)],!d&&n.rounded),ref:t},g))})),f=(0,l.default)(u,{name:"MuiPaper"})(d);t.default=f},603:function(e,t,n){"use strict";var a=n(113),i=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(23)),o=i(n(24)),s=a(n(0)),c=(i(n(3)),i(n(36))),l=i(n(135)),u=(n(7),{root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}});t.styles=u;var d=["video","audio","picture","iframe","img"],f=s.forwardRef((function(e,t){var n=e.children,a=e.classes,i=e.className,l=e.component,u=void 0===l?"div":l,f=e.image,p=e.src,m=e.style,v=(0,o.default)(e,["children","classes","className","component","image","src","style"]),g=-1!==d.indexOf(u),b=!g&&f?(0,r.default)({backgroundImage:'url("'.concat(f,'")')},m):m;return s.createElement(u,(0,r.default)({className:(0,c.default)(a.root,i,g&&a.media,-1!=="picture img".indexOf(u)&&a.img),ref:t,style:b,src:g?f||p:void 0},v),n)})),p=(0,l.default)(u,{name:"MuiCardMedia"})(f);t.default=p},604:function(e,t,n){"use strict";var a=n(113),i=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(23)),o=i(n(24)),s=a(n(0)),c=(i(n(3)),i(n(36))),l=i(n(135)),u={root:{padding:16,"&:last-child":{paddingBottom:24}}};t.styles=u;var d=s.forwardRef((function(e,t){var n=e.classes,a=e.className,i=e.component,l=void 0===i?"div":i,u=(0,o.default)(e,["classes","className","component"]);return s.createElement(l,(0,r.default)({className:(0,c.default)(n.root,a),ref:t},u))})),f=(0,l.default)(u,{name:"MuiCardContent"})(d);t.default=f},605:function(e,t,n){"use strict";var a=n(113),i=n(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(23)),o=i(n(24)),s=a(n(0)),c=(n(26),i(n(3)),i(n(36))),l=i(n(135)),u={root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}};t.styles=u;var d=s.forwardRef((function(e,t){var n=e.cellHeight,a=void 0===n?180:n,i=e.children,l=e.classes,u=e.className,d=e.cols,f=void 0===d?2:d,p=e.component,m=void 0===p?"ul":p,v=e.spacing,g=void 0===v?4:v,b=e.style,h=(0,o.default)(e,["cellHeight","children","classes","className","cols","component","spacing","style"]);return s.createElement(m,(0,r.default)({className:(0,c.default)(l.root,u),ref:t,style:(0,r.default)({margin:-g/2},b)},h),s.Children.map(i,(function(e){if(!s.isValidElement(e))return null;var t=e.props.cols||1,n=e.props.rows||1;return s.cloneElement(e,{style:(0,r.default)({width:"".concat(100/f*t,"%"),height:"auto"===a?"auto":a*n+g,padding:g/2},e.props.style)})})))})),f=(0,l.default)(u,{name:"MuiGridList"})(d);t.default=f},644:function(e,t,n){"use strict";n.r(t);var a,i,r,o,s,c=n(0),l=n.n(c),u=n(171),d=n.n(u),f=n(214),p=n(172),m=n(136),v=n(149),g=n(173),b=(n(174),n(115)),h=n(215),y=n.n(h),j=n(207),O=n.n(j),w=(a=function(){function e(){var t=this;Object(m.a)(this,e),Object(p.a)(this,"model",i,this),Object(p.a)(this,"updating",r,this),this.liveQuery=void 0,this.decrypt=function(e){var t=localStorage.getItem("private key");if(t&&0!==t.length&&e&&0!==e.length)return O.a.AES.decrypt(e,t).toString(O.a.enc.Utf8);throw Error("decrypt ".concat(e," failed"))},this.subscribe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=new y.a.Query("Movie");e&&n.find().then((function(e){t.model=e.map((function(e){return t.db2model(e)}))})),n.subscribe().then((function(e){t.liveQuery=e,e.on("create",(function(e){if(void 0!==e){var n=t.db2model(e);t.updating=!1,t.model.push(n)}})),e.on("update",(function(e){if(void 0!==e){var n=t.db2model(e),a=t.model.indexOf(n);a>-1&&(t.model[a]=n)}})),e.on("delete",(function(e){if(void 0!==e){var n=t.model.indexOf(t.db2model(e));n>-1&&t.model.splice(n,1)}}))}))},this.unSubscribe=function(){var e;null===(e=t.liveQuery)||void 0===e||e.unsubscribe()},Object(p.a)(this,"create",o,this),Object(p.a)(this,"delete",s,this),Object(b.f)(this),void 0!==y.a.applicationId&&void 0!==y.a.applicationKey||y.a.init({appId:this.decrypt("U2FsdGVkX19VXtGCxmolOxbQeih2/nrrpHUdRBk6yG19bAOgbuGI4vfcuvXq7rCW+ydHLDFTGNashYbeN+0HBQ=="),appKey:this.decrypt("U2FsdGVkX185dqqTK57a0dJP9OLEqRo6dMt8YFTHQzJW7Yvq+WmZ5PNU/9LdAxbL")})}return Object(v.a)(e,[{key:"db2model",value:function(e){return{id:e.get("id"),poster:e.get("poster"),year:e.get("year"),released:e.get("released"),runtime:e.get("runtime"),genre:e.get("genre"),director:e.get("director"),writer:e.get("writer"),actors:e.get("actors"),plot:e.get("plot"),language:e.get("language"),country:e.get("country"),awards:e.get("awards"),imdb:e.get("imdbd"),douban:e.get("douban"),rottenTomatoes:e.get("rottenTomatoes"),rating:e.get("rating"),title:e.get("title"),ref:e.get("objectId")}}},{key:"movies",get:function(){return this.model}},{key:"isUpdating",get:function(){return this.updating}}]),e}(),i=Object(g.a)(a.prototype,"model",[b.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),r=Object(g.a)(a.prototype,"updating",[b.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=Object(g.a)(a.prototype,"create",[b.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(f.a)(d.a.mark((function t(n){var a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.updating=!0,a=y.a.Object.extend("Movie"),(i=new a).set("id",n.id),i.set("poster",n.poster),i.set("year",n.year),i.set("released",n.released),i.set("runtime",n.runtime),i.set("genre",n.genre),i.set("director",n.director),i.set("writer",n.writer),i.set("actors",n.actors),i.set("plot",n.plot),i.set("language",n.language),i.set("country",n.country),i.set("awards",n.awards),i.set("imdb",n.imdb),i.set("douban",n.douban),i.set("rottenTomatoes",n.rottenTomatoes),i.set("rating",n.rating),i.set("title",n.title),t.abrupt("return",i.save());case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),s=Object(g.a)(a.prototype,"delete",[b.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.updating=!0,y.a.Object.createWithoutData("Movie",t).destroy()}}}),Object(g.a)(a.prototype,"movies",[b.c],Object.getOwnPropertyDescriptor(a.prototype,"movies"),a.prototype),Object(g.a)(a.prototype,"isUpdating",[b.c],Object.getOwnPropertyDescriptor(a.prototype,"isUpdating"),a.prototype),a),x=new w,N=l.a.createContext(x),E=n(148),k=n(2),M=Object(E.a)((function(){return Object(c.useContext)(N).isUpdating?Object(k.jsx)("p",{children:"Updating..."}):null})),P=n(600),L=n.n(P),C=n(604),R=n.n(C),_=n(603),F=n.n(_),S=n(47),T=n.n(S),H=n(46),U=n.n(H),W=U()((function(){return T()({card:{width:160,height:200},media:{height:120},content:{height:80}})})),z=function(e){var t=W();return Object(k.jsxs)(L.a,{className:t.card,raised:!0,children:[Object(k.jsx)(F.a,{className:t.media,title:e.movie.title,image:e.movie.poster}),Object(k.jsx)(R.a,{className:t.content,children:e.movie.title})]})},G=n(605),q=n.n(G),I=n(1),Q=n(9),V=n(20),X=(n(3),n(36));var Y=n(169);var A=function(e,t){var n,a,i,r;e&&e.complete&&(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight?((n=e.classList).remove.apply(n,Object(V.a)(t.imgFullWidth.split(" "))),(a=e.classList).add.apply(a,Object(V.a)(t.imgFullHeight.split(" ")))):((i=e.classList).remove.apply(i,Object(V.a)(t.imgFullHeight.split(" "))),(r=e.classList).add.apply(r,Object(V.a)(t.imgFullWidth.split(" ")))))};var D=c.forwardRef((function(e,t){var n=e.children,a=e.classes,i=e.className,r=(e.cols,e.component),o=void 0===r?"li":r,s=(e.rows,Object(Q.a)(e,["children","classes","className","cols","component","rows"])),l=c.useRef(null);return c.useEffect((function(){!function(e,t){e&&(e.complete?A(e,t):e.addEventListener("load",(function(){A(e,t)})))}(l.current,a)})),c.useEffect((function(){var e=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function a(){for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];var o=this,s=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(s,n)}return a.clear=function(){clearTimeout(t)},a}((function(){A(l.current,a)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[a]),c.createElement(o,Object(I.a)({className:Object(X.default)(a.root,i),ref:t},s),c.createElement("div",{className:a.tile},c.Children.map(n,(function(e){return c.isValidElement(e)?"img"===e.type||(t=e,n=["Image"],c.isValidElement(t)&&-1!==n.indexOf(t.type.muiName))?c.cloneElement(e,{ref:l}):e:null;var t,n}))))})),J=Object(Y.a)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(D),B=U()((function(){return T()({grid:{padding:10}})})),K=Object(E.a)((function(){var e=Object(c.useContext)(N),t=B();return Object(k.jsx)(q.a,{className:t.grid,spacing:10,cols:4,children:e.movies.map((function(e){return Object(k.jsx)(J,{children:Object(k.jsx)(z,{movie:e})})}))})}));t.default=function(){var e=new w;return Object(c.useEffect)((function(){return e.subscribe(),function(){e.unSubscribe()}})),Object(k.jsxs)(N.Provider,{value:e,children:[Object(k.jsx)(K,{}),Object(k.jsx)(M,{})]})}}}]);
//# sourceMappingURL=7.73d5deec.chunk.js.map