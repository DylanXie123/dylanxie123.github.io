(this["webpackJsonpgithub-pages"]=this["webpackJsonpgithub-pages"]||[]).push([[1],{150:function(e,t,n){},151:function(e,t){},173:function(e,t,n){},224:function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),c=n(73),o=n.n(c),a=(n(150),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function s(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,233)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),c(e),o(e)}))},l=n(45),d=n(3),p=n(58),b=n(15),f=n(98),j=n.n(f),h=n(99),x=n.n(h),O=function(e){return"Hello, React&App"===j.a.decrypt("U2FsdGVkX19LkQydklw7F7RbgOdCBwXD1cfvQjLgfTYe+go46H+MPCsBFVBV1Q2w",e).toString(x.a)},g=function(){var e=localStorage.getItem("private key");return!(!e||0===e.length||!O(e))},v=function(e){var t=localStorage.getItem("private key");if(t&&0!==t.length&&e&&0!==e.length)return j.a.decrypt(e,t).toString(x.a);throw Error("decrypt ".concat(e," failed"))},m=n(2);function y(){return Object(m.jsx)("p",{children:"Home"})}var w,k,C,T,D,S,L,I=n(0),X=n.n(I),M=n(24),P=n(21),z=n(5),B=n(6),F=n(13),V=(n(106),n(11)),E=n(35),R=n.n(E),A=n(136),U=n.n(A),H=n(142);n(112),function(e){e[e.Eval=0]="Eval",e[e.Var=1]="Var",e[e.Defint=2]="Defint",e[e.Limit=3]="Limit",e[e.Matrix=4]="Matrix"}(L||(L={}));var Q,W,N,J=(w=function(){function e(){var t=this;Object(z.a)(this,e),Object(P.a)(this,"latex",k,this),Object(P.a)(this,"history",C,this),this.db=void 0,this.parser=new U.a,this.initHistory=Object(M.a)(X.a.mark((function e(){var n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.a)("expr-db",1,{upgrade:function(e){e.createObjectStore("expressions",{keyPath:"date"})}});case 2:return n=e.sent,t.db=n,e.next=6,n.getAll("expressions");case 6:r=e.sent,Object(V.h)((function(){t.history=r}));case 8:case"end":return e.stop()}}),e)}))),Object(P.a)(this,"update",T,this),Object(P.a)(this,"save",D,this),Object(P.a)(this,"deleteHistory",S,this),Object(V.f)(this)}return Object(B.a)(e,[{key:"expression",get:function(){try{return this.parser.parseLatex(this.latex).toNerdamer()}catch(e){return}}},{key:"eval",get:function(){try{return this.expression.evaluate().text()}catch(e){return}}},{key:"text",get:function(){try{var e,t=null===(e=this.expression)||void 0===e?void 0:e.toTeX();return Z.forEach((function(e,n){var r;return t=null===(r=t)||void 0===r?void 0:r.replace(n,e)})),t}catch(n){return}}},{key:"mode",get:function(){try{return this.latex.search("int")>=0?L.Defint:this.latex.search("limit")>=0?L.Limit:this.latex.search("matrix")>=0?L.Matrix:this.latex.search("x")>=0?L.Var:L.Eval}catch(e){return L.Eval}}},{key:"solve",get:function(){try{return this.expression.solveFor("x").toTeX()}catch(e){return}}},{key:"integrate",get:function(){try{return R.a.integrate(this.expression,"x").toTeX()}catch(e){return}}},{key:"diff",get:function(){try{return R.a.diff(this.expression,"x").toTeX()}catch(e){return}}},{key:"getRawLaTeX",get:function(){return this.latex}},{key:"getHistory",get:function(){return this.history}}]),e}(),k=Object(F.a)(w.prototype,"latex",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=Object(F.a)(w.prototype,"history",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=Object(F.a)(w.prototype,"update",[V.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.latex=t}}}),D=Object(F.a)(w.prototype,"save",[V.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){if(e.db&&e.latex.length>0){var t={expStr:e.latex,date:Date.now()};e.db.put("expressions",t),e.history.push(t)}else console.log("Invalid save")}}}),S=Object(F.a)(w.prototype,"deleteHistory",[V.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n;null===(n=e.db)||void 0===n||n.delete("expressions",t.date);var r=e.history.findIndex((function(e){return e.date===t.date}));r>-1&&e.history.splice(r,1)}}}),Object(F.a)(w.prototype,"expression",[V.c],Object.getOwnPropertyDescriptor(w.prototype,"expression"),w.prototype),Object(F.a)(w.prototype,"eval",[V.c],Object.getOwnPropertyDescriptor(w.prototype,"eval"),w.prototype),Object(F.a)(w.prototype,"text",[V.c],Object.getOwnPropertyDescriptor(w.prototype,"text"),w.prototype),Object(F.a)(w.prototype,"mode",[V.c],Object.getOwnPropertyDescriptor(w.prototype,"mode"),w.prototype),Object(F.a)(w.prototype,"solve",[V.c],Object.getOwnPropertyDescriptor(w.prototype,"solve"),w.prototype),Object(F.a)(w.prototype,"integrate",[V.c],Object.getOwnPropertyDescriptor(w.prototype,"integrate"),w.prototype),Object(F.a)(w.prototype,"diff",[V.c],Object.getOwnPropertyDescriptor(w.prototype,"diff"),w.prototype),Object(F.a)(w.prototype,"getRawLaTeX",[V.c],Object.getOwnPropertyDescriptor(w.prototype,"getRawLaTeX"),w.prototype),Object(F.a)(w.prototype,"getHistory",[V.c],Object.getOwnPropertyDescriptor(w.prototype,"getHistory"),w.prototype),w),Z=new Map([[RegExp("\\\\cdot","g"),"\\times"]]),K=i.a.createContext(new J),Y=function(){return Object(r.useContext)(K)},q=function e(){var t=this;Object(z.a)(this,e),this.mfController=void 0,this.setController=function(e){t.mfController=e,t.focus()},this.add=function(e){return t.mfController.insert(e,{focus:!0,format:"latex"})},this.backspace=function(){t.mfController.executeCommand("deleteBackward"),t.focus()},this.clear=function(){t.mfController.executeCommand("deleteAll"),t.focus()},this.move=function(e){"forward"===e?t.mfController.executeCommand("moveToNextChar"):t.mfController.executeCommand("moveToPreviousChar"),t.focus()},this.focus=function(){t.mfController&&t.mfController.focus&&t.mfController.focus()}},G=new q,_=i.a.createContext(G),$=n(7),ee=n.p+"static/media/delete.020411b3.svg",te=n.p+"static/media/backspace.521c7719.svg",ne=(n(173),n(61));function re(){var e=Object(ne.a)(Q||(Q=Object(p.a)(["\n    display: grid;\n    grid-template-columns: repeat(5, 1fr);\n    justify-content: center;\n    gap: 2px;\n    grid-auto-rows: minmax(32px, auto);\n    max-width: 350px;\n    margin: auto;\n    user-select: none;\n  "])));return Object(m.jsxs)("div",{className:e,children:[ie().map((function(e,t){return Object(m.jsx)("div",{children:Object(m.jsx)(oe,{children:e.children,onclick:e.onclick},t)},"extra"+t)})),ce().map((function(e,t){return Object(m.jsx)("div",{children:Object(m.jsx)(oe,{children:e.children,onclick:e.onclick},t)},"basic"+t)}))]})}function ie(){var e=Object(r.useContext)(_),t=["sin","cos","tan","log"].map((function(t){return{children:t,onclick:function(){e.add("\\".concat(t,"({#?})"))}}}));t.push({children:"sqrt",onclick:function(){e.add("\\sqrt")}});var n=[{children:"asin",command:"\\arcsin({#?})"},{children:"cos",command:"\\arccos({#?})"},{children:"tan",command:"\\arctan({#?})"},{children:"e^",command:"e^{#?}"},{children:"^2",command:"{#?}^2"}].map((function(t){return{children:t.children,onclick:function(){return e.add(t.command)}}})),i=[{children:"frac",onclick:function(){return e.add("\\frac")}}];return["(",")"].map((function(t){return i.push({children:t,onclick:function(){e.add(t)}})})),i.push({children:"\u2190",onclick:function(){e.move("backword")}}),i.push({children:"\u2192",onclick:function(){e.move("forward")}}),[].concat(Object($.a)(t),Object($.a)(n),i)}function ce(){var e=Object(r.useContext)(_),t=Y(),n=["7","8","9"].map((function(t){return{children:t,onclick:function(){return e.add(t)}}}));n.push({children:Object(m.jsx)("img",{src:ee,alt:"del",style:{width:20}}),onclick:function(){return e.clear()}}),n.push({children:Object(m.jsx)("img",{src:te,alt:"backspace",style:{width:20}}),onclick:function(){return e.backspace()}});var i=["4","5","6","+","-"].map((function(t){return{children:t,onclick:function(){return e.add(t)}}})),c=["1","2","3","*","/"].map((function(t){return{children:t,onclick:function(){return e.add(t)}}})),o=["0",".","e"].map((function(t){return{children:t,onclick:function(){return e.add(t)}}}));return o.push({children:"pi",onclick:function(){return e.add("\\pi")}}),o.push({children:"=",onclick:function(){return t.save()}}),[].concat(Object($.a)(n),Object($.a)(i),Object($.a)(c),Object($.a)(o))}function oe(e){var t=Object(ne.a)(W||(W=Object(p.a)(["\n    text-transform: lowercase;\n    cursor: pointer;\n    height: 100%;\n    width: 100%;\n    padding: 2px;\n    background: none;\n    border: 1px solid;\n    border-radius: 5px;\n    transition: all 200ms ease-in-out;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    &:hover {\n      background: lightgrey;\n    };\n    &:focus {\n      transform: scale(0.95);\n      border-width: 2px;\n      padding: 1px;\n    }\n  "]))),n=Object(ne.a)(N||(N=Object(p.a)(["\n    font-family:'KaTeX';\n    font-size: 20px;\n  "])));return Object(m.jsx)("button",{onClick:e.onclick,className:t,children:"string"===typeof e.children?Object(m.jsxs)("span",{className:n,children:[" ",e.children," "]}):e.children})}var ae=n(86);function se(){var e=Y(),t=Object(r.useContext)(_);return Object(m.jsx)(ae.a,{virtualKeyboardMode:"off",fontsDirectory:"../assets/fonts",onContentDidChange:function(t){return e.update(t.getValue("latex-expanded"))},ref:function(e){e&&t.setController(e)},style:{fontSize:24,marginBlock:5,border:"2px dashed black",backgroundColor:"white",gridColumn:"1/-1",outline:0}})}var ue=n(30),le=n(138),de=n.n(le),pe=function(e){var t=Object(r.useRef)(null);return Object(r.useEffect)((function(){try{var n;de()({target:null!==(n=t.current)&&void 0!==n?n:"",width:800,height:300,grid:!0,title:e.expStr,data:[{fn:e.expStr}]})}catch(r){}})),Object(m.jsx)("div",{ref:t})},be=Object(ue.a)((function(){switch(Y().mode){case L.Eval:return Object(m.jsx)(fe,{});case L.Var:return Object(m.jsx)(je,{});default:return Object(m.jsx)(fe,{})}})),fe=Object(ue.a)((function(){var e=Y(),t=e.eval,n=e.text;return void 0===t?e.getRawLaTeX?Object(m.jsx)(he,{title:"LaTeX",content:e.getRawLaTeX,useMathView:!1}):null:t===n?Object(m.jsxs)("div",{children:[Object(m.jsx)(he,{title:"LaTeX",content:e.getRawLaTeX,useMathView:!1}),Object(m.jsx)(he,{title:"Eval",content:"".concat(t),useMathView:!0})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)(he,{title:"LaTeX",content:e.getRawLaTeX,useMathView:!1}),Object(m.jsx)(he,{title:"Eval",content:"".concat(e.text),useMathView:!0}),Object(m.jsx)(he,{title:"Calc",content:"".concat(e.eval),useMathView:!0})]})})),je=Object(ue.a)((function(){var e=Y();return void 0===e.integrate?null:Object(m.jsxs)("div",{children:[Object(m.jsx)(he,{title:"LaTeX",content:e.getRawLaTeX,useMathView:!1}),Object(m.jsx)(he,{title:"Integrate",content:"".concat(e.integrate),useMathView:!0}),Object(m.jsx)(he,{title:"Diff",content:"".concat(e.diff),useMathView:!0}),e.eval?Object(m.jsx)(pe,{expStr:e.eval}):null]})})),he=function(e){var t=e.useMathView?Object(m.jsx)(xe,{content:e.content}):Object(m.jsx)(Oe,{content:e.content});return Object(m.jsxs)("div",{style:{border:"1px solid black"},children:[Object(m.jsx)("div",{style:{backgroundColor:"black",color:"white",padding:2,paddingLeft:10,fontFamily:"KaTeX",userSelect:"none"},children:e.title}),Object(m.jsx)("div",{style:{padding:5,paddingLeft:10},children:t})]})},xe=function(e){var t=Object(r.useContext)(_);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ae.a,{value:e.content,readOnly:!0,style:{outline:0,display:"inline-block"},fontsDirectory:"../assets/fonts"}),Object(m.jsx)("button",{style:{marginLeft:"20pt"},onClick:function(){t.clear(),t.add(e.content)},children:"+"})]})},Oe=function(e){return Object(m.jsx)("span",{style:{fontFamily:"KaTeX"},children:e.content})},ge=be,ve=Object(ue.a)((function(){var e=Y();return Object(m.jsxs)("div",{style:{border:"1px solid black"},children:[Object(m.jsx)("div",{style:{backgroundColor:"black",color:"white",padding:5,paddingLeft:10},children:"History"}),Object(m.jsx)("ul",{style:{listStyleType:"none",paddingInline:10},children:e.getHistory.map((function(e,t){return Object(m.jsx)(me,{item:e},t)}))})]})})),me=function(e){var t=Y();return Object(m.jsxs)("li",{style:{display:"flex",justifyContent:"space-between"},children:[Object(m.jsx)("span",{style:{marginRight:20},children:e.item.expStr}),Object(m.jsx)("button",{onClick:function(){t.deleteHistory(e.item)},children:"Del"})]})},ye=ve;function we(){var e=new q,t=new J;return Object(r.useEffect)((function(){t.initHistory()})),Object(m.jsx)(_.Provider,{value:e,children:Object(m.jsxs)(K.Provider,{value:t,children:[Object(m.jsxs)(Me,{children:[Object(m.jsx)(se,{}),Object(m.jsx)("div",{style:{gridColumn:"1/9"},children:Object(m.jsx)(ge,{})}),Object(m.jsx)("div",{style:{gridColumn:"9/-1"},children:Object(m.jsx)(ye,{})})]}),Object(m.jsx)("div",{style:{position:"fixed",bottom:10,width:"100%"},children:Object(m.jsx)(re,{})})]})})}var ke,Ce,Te,De,Se,Le,Ie,Xe,Me=function(e){return Object(m.jsx)("div",{style:{width:"90%",margin:"auto",flex:"1 0 auto"},children:Object(m.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)"},children:e.children})})},Pe=n(141),ze=n(232);var Be=(ke=function(){function e(){var t=this;Object(z.a)(this,e),Object(P.a)(this,"models",Ce,this),Object(P.a)(this,"updatingItem",Te,this),this.supabase=void 0,this.initSupabase=function(){t.supabase=Object(Pe.a)(v("U2FsdGVkX1+xYKT0rv1DS8KZwEC5qb3SrLPgo5fCP8bBZhoSJLTX7QiXfzTZDGrndWIt4inHn0zFbf8n0h24UA=="),v("U2FsdGVkX19LTC86LN20KmXpzp2r7qtxqA80jL53a3vXaJQ3XTjQnk1z/Yj8t0SuWZgvvD86d5ZjQRjtPZvW+QdSo2mUBfPXKXRhBuFQWiprW8u4waY341ZQozb3sEA2YlJF0it0T5E+v9eTX5mb+9ljIt4bLJC+gw3slBvZd3r4rXuFVFXMPl0oVA7i1I6jQapDrNGTtL1byuROS3rJsnLkr/MU5VYbQdQpGQNsToRYx5vH4tW2ZYnzu+htfBAfT3K5w0fxQ3z9vqNJSwHK47r2fQ6B67Y6fOir6qAGg+Yc9JBkCJAUEvIb7HjPPkJv"),{schema:"public",headers:{"x-my-custom-header":"airbox"},autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0})},this.createText=function(){var e=Object(M.a)(X.a.mark((function e(n){var r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n,o="text/plain",a=void 0,r={id:Object(ze.a)(),createdDate:new Date,content:c,type:o,refUrl:a},i=t.insertModel(r),e.next=4,t.insertDB(r);case 4:if(!1===e.sent){e.next=9;break}return e.abrupt("return",!0);case 9:return i(),e.abrupt("return",!1);case 11:case"end":return e.stop()}var c,o,a}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(P.a)(this,"createFile",De,this),Object(P.a)(this,"insertModel",Se,this),this.insertDB=function(){var e=Object(M.a)(X.a.mark((function e(n){var r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.supabase.from("contents").insert(n);case 3:if(r=e.sent,i=r.data,null!==r.error){e.next=8;break}return e.abrupt("return",i.map(t.db2model));case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Object(P.a)(this,"removeItem",Le,this),Object(P.a)(this,"removeModel",Ie,this),this.removeDB=function(){var e=Object(M.a)(X.a.mark((function e(n){var r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.supabase.from("contents").delete().match({id:n});case 3:if(r=e.sent,null!==r.error){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Object(P.a)(this,"retrieve",Xe,this),Object(V.f)(this),this.initSupabase()}return Object(B.a)(e,[{key:"db2model",value:function(e){return console.log(e),Object(d.a)(Object(d.a)({},e),{},{createdDate:Date.parse(e.createdDate)})}},{key:"getModels",get:function(){return this.models}},{key:"getUpdatingItem",get:function(){return this.updatingItem}}]),e}(),Ce=Object(F.a)(ke.prototype,"models",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=Object(F.a)(ke.prototype,"updatingItem",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),De=Object(F.a)(ke.prototype,"createFile",[V.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e){}}}),Se=Object(F.a)(ke.prototype,"insertModel",[V.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.models.splice(0,0,t),e.updatingItem=0;return Object(V.b)((function(){e.models.splice(0,1),e.updatingItem=-1}))}}}),Le=Object(F.a)(ke.prototype,"removeItem",[V.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(M.a)(X.a.mark((function t(n){var r,i;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=e.models.findIndex((function(e){return e.id===n})))>-1)){t.next=12;break}return i=e.removeModel(r),t.next=5,e.removeDB(n);case 5:if(!0!==t.sent){t.next=10;break}return t.abrupt("return",!0);case 10:return i(),t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Ie=Object(F.a)(ke.prototype,"removeModel",[V.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.models[t];e.models.splice(t,1),e.updatingItem=t;return Object(V.b)((function(){e.models.splice(t,0,n),e.updatingItem=-1}))}}}),Xe=Object(F.a)(ke.prototype,"retrieve",[V.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(M.a)(X.a.mark((function t(){var n,r,i;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.updatingItem=0,t.next=3,e.supabase.from("contents").select();case 3:if(n=t.sent,r=n.data,i=n.error,e.updatingItem=-1,null!==i){t.next=12;break}return e.models=r.map(e.db2model),t.abrupt("return",!0);case 12:return t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t)})))}}),Object(F.a)(ke.prototype,"getModels",[V.c],Object.getOwnPropertyDescriptor(ke.prototype,"getModels"),ke.prototype),Object(F.a)(ke.prototype,"getUpdatingItem",[V.c],Object.getOwnPropertyDescriptor(ke.prototype,"getUpdatingItem"),ke.prototype),ke),Fe=new Be,Ve=i.a.createContext(Fe),Ee=function(e){var t=Array.from(e.matchAll(/https?:\/\/[-a-zA-Z0-9@:%._~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b[-a-zA-Z0-9()@:%_.~#?&//=]*/g));if(0===t.length)return Object(m.jsx)("span",{children:e});for(var n=[],r=0;r<t.length;r++){var i=t[r],c=e.slice(i.index,i.index+i[0].length);if(0===r&&i.index>0&&n.push(Object(m.jsx)("span",{children:e.slice(0,i.index)},"textSpan-begin")),r===t.length-1){var o=e.slice(i.index+c.length,e.length);n.push(Object(m.jsx)("a",{href:c,target:"_blank",rel:"noreferrer",children:c},"a-".concat(r)),Object(m.jsx)("span",{children:o},"textSpan-".concat(r)));break}var a=t[r+1],s=e.slice(i.index+c.length,a.index);n.push(Object(m.jsx)("a",{href:c,target:"_blank",rel:"noreferrer",children:c},"a-".concat(r)),Object(m.jsx)("span",{children:s},"textSpan-".concat(r)))}return n},Re=function(e){return Object(m.jsx)("img",{src:e.refUrl,alt:e.content,height:200})},Ae=function(e){var t=Object(r.useContext)(Ve);return Object(m.jsxs)("div",{style:{flex:"1",paddingBlock:"10px",paddingInline:"20px",border:"2px solid lightgrey",borderRadius:"5px",margin:"5px",overflowWrap:"break-word"},children:[function(t){switch(t.type.split("/")[0]){case"text":return Ee(e.box.content);case"image":return Re(e.box);default:return Ee(e.box.refUrl)}}(e.box),Object(m.jsxs)("div",{style:{marginTop:"5px",borderTop:"2px solid lightgrey",paddingTop:"5px"},children:[Object(m.jsx)("button",{onClick:function(){t.removeItem(e.box.id)},children:"Delete"}),Object(m.jsx)("button",{onClick:function(){navigator.clipboard.writeText(e.box.content)},children:"Copy"})]})]})},Ue=Object(ue.a)((function(){var e=Object(r.useContext)(Ve).getModels.map((function(e){return Object(m.jsx)(Ae,{box:e},e.id)}));return Object(m.jsxs)("div",{style:{display:"flex",flexDirection:"column",margin:"auto",marginBlock:"10px",maxWidth:"900px"},children:[e,Object(m.jsx)("div",{style:{height:"50px"}})]})})),He=Object(ue.a)((function(){return Object(r.useContext)(Ve).getUpdatingItem>-1?Object(m.jsx)("p",{children:"Updating..."}):null})),Qe=n(8),We=function(){var e=Object(r.useContext)(Ve),t=Object(r.useState)(""),n=Object(Qe.a)(t,2),c=n[0],o=n[1],a=i.a.createRef();return Object(m.jsxs)("div",{style:{width:"100%",padding:"5px",boxSizing:"border-box",backgroundColor:"grey",position:"fixed",bottom:"0"},children:[Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.createText(c).catch((function(){alert("Fail to add")})),o("")},children:[Object(m.jsx)("input",{type:"text",placeholder:"Just type something\ud83d\ude0e",required:!0,value:c,onChange:function(e){return o(e.target.value)}}),Object(m.jsx)("input",{type:"submit"})]}),Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),a.current&&a.current.files&&e.createFile(a.current.files[0])},children:[Object(m.jsx)("input",{type:"file",ref:a}),Object(m.jsx)("input",{type:"submit"})]})]})};var Ne,Je=function(){var e=new Be;return Object(r.useEffect)((function(){e.retrieve()})),Object(m.jsxs)(Ve.Provider,{value:e,children:[Object(m.jsx)(He,{}),Object(m.jsx)(Ue,{}),Object(m.jsx)(We,{})]})},Ze=function(){var e=Object(r.useState)(""),t=Object(Qe.a)(e,2),n=t[0],i=t[1],c=Object(b.g)(),o=Object(b.h)().state||"/";if(g())return c.goBack(),null;return Object(m.jsx)("div",{children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){return!!O(e)&&(localStorage.setItem("private key",e),!0)}(n)?c.replace(o):(i(""),alert("Invalid Key"))},children:[Object(m.jsx)("input",{type:"password",placeholder:"Enter password",autoComplete:"current-password",required:!0,value:n,onChange:function(e){return i(e.target.value)}}),Object(m.jsx)("input",{type:"submit"})]})})};function Ke(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ye,{}),Object(m.jsx)("div",{style:{flex:"1 auto"},children:Object(m.jsx)(r.Suspense,{fallback:Object(m.jsx)("div",{children:"Loading..."}),children:Object(m.jsxs)(b.d,{children:[Object(m.jsx)(b.b,{exact:!0,path:"/",render:function(){return Object(m.jsx)(y,{})}}),Object(m.jsx)(b.b,{path:"/login",render:function(){return Object(m.jsx)(Ze,{})}}),Object(m.jsx)(b.b,{path:"/calc",render:function(){return Object(m.jsx)(we,{})}}),Object(m.jsx)(qe,{path:"/airbox",defaultComponent:Je})]})})})]})}function Ye(){var e=Object(ne.a)(Ne||(Ne=Object(p.a)(["\n    color: white;\n    font-size: 20px;\n    padding-inline: 8px;\n    text-decoration: none;\n    transition: all ease-in-out 200ms;\n    &:hover {\n      background-color: white;\n      color: black;\n    };\n  "])));return Object(m.jsxs)("nav",{style:{backgroundColor:"#1b1c1d",padding:"8px"},children:[Object(m.jsx)(l.b,{className:e,to:"/",children:"Home"}),Object(m.jsx)(l.b,{className:e,to:"/calc",children:"Calc"}),Object(m.jsx)(l.b,{className:e,to:"/airbox",children:"AirBox"})]})}var qe=function(e){var t=Object(b.h)();return Object(m.jsx)(b.b,Object(d.a)(Object(d.a)({},e),{},{path:e.path,render:function(){return g()?Object(m.jsx)(e.defaultComponent,{}):Object(m.jsx)(b.a,{to:{pathname:"/login",state:t.pathname}})}}))};o.a.render(Object(m.jsx)(l.a,{children:Object(m.jsx)(Ke,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");a?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):s(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):s(t,e)}))}}(),u()}},[[224,2,3]]]);
//# sourceMappingURL=main.56b7a949.chunk.js.map